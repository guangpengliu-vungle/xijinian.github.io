<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 4.2.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png"><link rel="mask-icon" href="/images/logo.svg" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/font-awesome@4/css/font-awesome.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"www.xijinian.top",root:"/",scheme:"Gemini",version:"7.7.2",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!1,show_result:!1,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!1},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!0,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!0,nav:null},algolia:{hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},path:"search.xml"}</script><meta name="description" content="Spring 框架简介 主要发明者Rod Johnson，提倡不要重复发明轮子，Spring 的宗旨：让原有的技术使用起来更方便。 Spring 框架核心功能IoC&#x2F;DIAOP声明式事务 Spring 框架的运行时环境"><meta property="og:type" content="article"><meta property="og:title" content="Spring 速览"><meta property="og:url" content="https://www.xijinian.top/2017/12/27/Spring-%E9%80%9F%E8%A7%88/index.html"><meta property="og:site_name" content="Adventures of xijinian"><meta property="og:description" content="Spring 框架简介 主要发明者Rod Johnson，提倡不要重复发明轮子，Spring 的宗旨：让原有的技术使用起来更方便。 Spring 框架核心功能IoC&#x2F;DIAOP声明式事务 Spring 框架的运行时环境"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://docs.spring.io/spring/docs/5.0.0.RC3/spring-framework-reference/images/spring-overview.png"><meta property="article:published_time" content="2017-12-27T15:15:55.000Z"><meta property="article:modified_time" content="2020-03-31T07:53:17.000Z"><meta property="article:author" content="xijinian"><meta property="article:tag" content="Java EE"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://docs.spring.io/spring/docs/5.0.0.RC3/spring-framework-reference/images/spring-overview.png"><link rel="canonical" href="https://www.xijinian.top/2017/12/27/Spring-%E9%80%9F%E8%A7%88/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"zh-CN"}</script><title>Spring 速览 | Adventures of xijinian</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span><h1 class="site-title">Adventures of xijinian</h1><span class="logo-line-after"><i></i></span></a></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"><div id="no-result"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div><div class="reading-progress-bar"></div><a href="https://github.com/xijinian" class="github-corner" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content post posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://www.xijinian.top/2017/12/27/Spring-%E9%80%9F%E8%A7%88/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="xijinian"><meta itemprop="description" content="放轻松，就像在漫游地球～"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Adventures of xijinian"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Spring 速览</h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2017-12-27 23:15:55" itemprop="dateCreated datePublished" datetime="2017-12-27T23:15:55+08:00">2017-12-27</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><span class="post-meta-item-text">Disqus：</span> <a title="disqus" href="/2017/12/27/Spring-%E9%80%9F%E8%A7%88/#disqus_thread" itemprop="discussionUrl"><span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/12/27/Spring-速览/" itemprop="commentCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><h3 id="spring-&#x6846;&#x67B6;&#x7B80;&#x4ECB;"><a class="markdownIt-Anchor" href="#spring-&#x6846;&#x67B6;&#x7B80;&#x4ECB;"></a> Spring &#x6846;&#x67B6;&#x7B80;&#x4ECB;</h3><h4 id="&#x4E3B;&#x8981;&#x53D1;&#x660E;&#x8005;"><a class="markdownIt-Anchor" href="#&#x4E3B;&#x8981;&#x53D1;&#x660E;&#x8005;"></a> &#x4E3B;&#x8981;&#x53D1;&#x660E;&#x8005;</h4><p>Rod Johnson&#xFF0C;&#x63D0;&#x5021;&#x4E0D;&#x8981;&#x91CD;&#x590D;&#x53D1;&#x660E;&#x8F6E;&#x5B50;&#xFF0C;Spring &#x7684;&#x5B97;&#x65E8;&#xFF1A;&#x8BA9;&#x539F;&#x6709;&#x7684;&#x6280;&#x672F;&#x4F7F;&#x7528;&#x8D77;&#x6765;&#x66F4;&#x65B9;&#x4FBF;&#x3002;</p><h4 id="spring-&#x6846;&#x67B6;&#x6838;&#x5FC3;&#x529F;&#x80FD;"><a class="markdownIt-Anchor" href="#spring-&#x6846;&#x67B6;&#x6838;&#x5FC3;&#x529F;&#x80FD;"></a> Spring &#x6846;&#x67B6;&#x6838;&#x5FC3;&#x529F;&#x80FD;</h4><ul><li><p>IoC/DI</p></li><li><p>AOP</p></li><li><p>&#x58F0;&#x660E;&#x5F0F;&#x4E8B;&#x52A1;</p></li></ul><h4 id="spring-&#x6846;&#x67B6;&#x7684;&#x8FD0;&#x884C;&#x65F6;&#x73AF;&#x5883;"><a class="markdownIt-Anchor" href="#spring-&#x6846;&#x67B6;&#x7684;&#x8FD0;&#x884C;&#x65F6;&#x73AF;&#x5883;"></a> Spring &#x6846;&#x67B6;&#x7684;&#x8FD0;&#x884C;&#x65F6;&#x73AF;&#x5883;</h4><p><img data-src="https://docs.spring.io/spring/docs/5.0.0.RC3/spring-framework-reference/images/spring-overview.png" alt><a id="more"></a></p><ul><li><p>Test</p></li><li><p>Core Container &#x2014;&#x2014; &#x6838;&#x5FC3;&#x5BB9;&#x5668;&#xFF0C;Spring &#x542F;&#x52A8;&#x7684;&#x6700;&#x57FA;&#x672C;&#x6761;&#x4EF6;</p><ul><li>Beans</li><li>Core</li><li>Context</li><li>SpEL</li></ul></li><li><p>AOP</p></li><li><p>Aspect&#xFF08;&#x201C;AOP &#x4E2D;&#x7684; &#x201C;A&#x201D;&#xFF09;</p></li><li><p>Data Access/Integration</p><ul><li>JDBC</li><li>ORM</li><li>Transactions</li></ul></li><li><p>Web</p><p>&#x4F8B;&#x5982;&#x4F7F;&#x7528; Tomcat &#x52A0;&#x8F7D; Spring &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x65F6;&#x4F7F;&#x7528;&#x3002;</p></li></ul><h3 id="ioc"><a class="markdownIt-Anchor" href="#ioc"></a> Ioc</h3><h4 id="&#x4F5C;&#x7528;"><a class="markdownIt-Anchor" href="#&#x4F5C;&#x7528;"></a> &#x4F5C;&#x7528;</h4><p>&#x5C06;&#x7A0B;&#x5E8F;&#x5458;&#x4E3B;&#x52A8;&#x901A;&#x8FC7; new &#x5B9E;&#x4F8B;&#x5316;&#x5BF9;&#x8C61;&#x7684;&#x5DE5;&#x4F5C;&#x4EA4;&#x7ED9; Spring &#x8D1F;&#x8D23;&#xFF0C;&#x5176;&#x6700;&#x5927;&#x7684;&#x4F5C;&#x7528;&#x662F;<strong>&#x89E3;&#x8026;</strong>&#xFF0C;&#x89E3;&#x9664;&#x4E86;&#x5BF9;&#x8C61;&#x7BA1;&#x7406;&#x548C;&#x7A0B;&#x5E8F;&#x5458;&#x4E4B;&#x95F4;&#x7684;&#x8026;&#x5408;&#x3002;</p><h4 id="spring-&#x6846;&#x67B6;&#x73AF;&#x5883;&#x642D;&#x5EFA;"><a class="markdownIt-Anchor" href="#spring-&#x6846;&#x67B6;&#x73AF;&#x5883;&#x642D;&#x5EFA;"></a> Spring &#x6846;&#x67B6;&#x73AF;&#x5883;&#x642D;&#x5EFA;</h4><ol><li><p>&#x5BFC;&#x5165;&#x56DB;&#x4E2A;&#x6838;&#x5FC3; JAR &#x5305;</p></li><li><p>&#x5728; src &#x4E0B;&#x9762;&#x65B0;&#x5EFA; applicationContext.xml</p><ul><li>&#x6587;&#x4EF6;&#x540D;&#x548C;&#x8DEF;&#x5F84;&#x5176;&#x5B9E;&#x53EF;&#x4EE5;&#x81EA;&#x5B9A;&#x4E49;</li><li>applicationContext.xml &#x6587;&#x4EF6;&#x4E2D;&#x914D;&#x7F6E;&#x7684;&#x4FE1;&#x606F;&#x6700;&#x7EC8;&#x5B58;&#x50A8;&#x5230;&#x4E86; Spring &#x5BB9;&#x5668; ApplicationContext &#x4E2D;</li><li>&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x9700;&#x8981;&#x5F15;&#x5165; schema<ul><li>schema &#x6587;&#x4EF6;&#x7684;&#x62D3;&#x5C55;&#x540D;&#x662F; .xsd</li><li>&#x6BD4; DTD &#x5177;&#x6709;&#x66F4;&#x597D;&#x7684;&#x62D3;&#x5C55;&#x6027;</li><li>&#x6BCF;&#x6B21;&#x5F15;&#x5165;&#x4E00;&#x4E2A; .xsd &#x6587;&#x4EF6;&#x5C31;&#x662F;&#x5F15;&#x5165;&#x4E00;&#x4E2A; namespace</li></ul></li></ul></li><li><p>&#x901A;&#x8FC7; applicationContex.xml &#x6587;&#x4EF6;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#xFF1A;</p><ul><li><p>&#x901A;&#x8FC7; &lt;bean &#x2026;/&gt; &#x6307;&#x5B9A;&#x5BF9;&#x8C61;</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;peo&quot;</span> <span class="attr">class</span>=<span class="string">&quot;xyz.xijinian.pojo.People&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>&#x901A;&#x8FC7; Spring &#x5B9E;&#x4F8B;&#x5316;&#x5BF9;&#x8C61;&#xFF1A;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">   ApplicationContext ac = <span class="keyword">new</span> </span><br><span class="line">        ClassPathXmlApplicationContext(<span class="string">&quot;applicationContext.xml&quot;</span>);</span><br><span class="line">    <span class="comment">// &#x5982;&#x679C;&#x5728; getBean() &#x65B9;&#x6CD5;&#x4E2D;&#x6CA1;&#x6709;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x5C31;&#x4F1A;&#x8FD4;&#x56DE; Object &#x7C7B;&#x578B;</span></span><br><span class="line">   People people = ac.getBean(<span class="string">&quot;peo&quot;</span>, People<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">   System.out.println(people);</span><br><span class="line">}</span><br></pre></td></tr></table></figure></li></ul></li></ol><h4 id="spring-&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#x7684;&#x4E09;&#x79CD;&#x65B9;&#x5F0F;"><a class="markdownIt-Anchor" href="#spring-&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#x7684;&#x4E09;&#x79CD;&#x65B9;&#x5F0F;"></a> Spring &#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#x7684;&#x4E09;&#x79CD;&#x65B9;&#x5F0F;</h4><ol><li><p>&#x901A;&#x8FC7;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;</p><ul><li><p>&#x901A;&#x8FC7;&#x65E0;&#x53C2;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#x521B;&#x5EFA;&#xFF08;&#x5373;&#x4E0A;&#x6587;&#x4E2D;&#x7684;&#x90A3;&#x79CD;&#xFF09;</p></li><li><p>&#x901A;&#x8FC7;&#x6709;&#x53C2;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#x521B;&#x5EFA;</p><ul><li><p>&#x9700;&#x8981;&#x5728; POJO &#x4E2D;&#x63D0;&#x4F9B;&#x7C7B;&#x7684;&#x6709;&#x53C2;&#x6784;&#x9020;&#x65B9;&#x6CD5;</p></li><li><p>&#x5728; applicationContext.xml &#x6587;&#x4EF6;&#x4E2D;&#x914D;&#x7F6E;</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;peo&quot;</span> <span class="attr">class</span>=<span class="string">&quot;xyz.xijinian.pojo.People&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &#x9ED8;&#x8BA4;&#x5339;&#x914D;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x7B26;&#x5408;&#x6761;&#x4EF6;&#x7684;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#xFF0C;&#x53EF;&#x901A;&#x8FC7; name&#x3001;type &#x7CBE;&#x786E;&#x6307;&#x5B9A; --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">index</span>=<span class="string">&quot;0&quot;</span> <span class="attr">value</span>=<span class="string">&quot;123&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">index</span>=<span class="string">&quot;1&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&#x5F20;&#x4E09;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul></li></ul></li><li><p>&#x901A;&#x8FC7;&#x5B9E;&#x4F8B;&#x5DE5;&#x5382;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;</p><ul><li><p>&#x9996;&#x5148;&#x9700;&#x8981;&#x6709;&#x4E00;&#x4E2A;&#x5B9E;&#x4F8B;&#x5DE5;&#x5382;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PeopleFactory</span> </span>{</span><br><span class="line">   <span class="function"><span class="keyword">public</span> People <span class="title">newInstance</span><span class="params">()</span> </span>{</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">new</span> People(<span class="number">1</span>, <span class="string">&quot;&#x6D4B;&#x8BD5;&quot;</span>);</span><br><span class="line">   }</span><br><span class="line">}</span><br></pre></td></tr></table></figure></li><li><p>&#x5728; applicationContext.xml &#x6587;&#x4EF6;&#x4E2D;&#x914D;&#x7F6E;</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;factory&quot;</span> <span class="attr">class</span>=<span class="string">&quot;xyz.xijinian.pojo.PeopleFactory&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;peo1&quot;</span> <span class="attr">factory-bean</span>=<span class="string">&quot;factory&quot;</span> <span class="attr">factory-method</span>=<span class="string">&quot;newInstance&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>&#x6D4B;&#x8BD5;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ApplicationContext ac = <span class="keyword">new</span> </span><br><span class="line">        ClassPathXmlApplicationContext(<span class="string">&quot;applicationContext.xml&quot;</span>);</span><br><span class="line">People people = ac.getBean(<span class="string">&quot;peo1&quot;</span>, People<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">System.out.println(people);</span><br></pre></td></tr></table></figure></li></ul></li><li><p>&#x901A;&#x8FC7;&#x9759;&#x6001;&#x5DE5;&#x5382;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;</p><ul><li><p>&#x9996;&#x5148;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x9759;&#x6001;&#x5DE5;&#x5382;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PeopleFactory</span> </span>{</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> People <span class="title">newInstance</span><span class="params">()</span> </span>{</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">new</span> People(<span class="number">1</span>, <span class="string">&quot;&#x6D4B;&#x8BD5;&quot;</span>);</span><br><span class="line">   }</span><br><span class="line">}</span><br></pre></td></tr></table></figure></li><li><p>&#x5728; applicationContext.xml &#x6587;&#x4EF6;&#x4E2D;&#x914D;&#x7F6E;</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;peo2&quot;</span> <span class="attr">class</span>=<span class="string">&quot;xyz.xijinian.pojo.PeopleFactory&quot;</span> <span class="attr">factory-method</span>=<span class="string">&quot;newInstance&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>&#x6D4B;&#x8BD5;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ApplicationContext ac = <span class="keyword">new</span> </span><br><span class="line">        ClassPathXmlApplicationContext(<span class="string">&quot;applicationContext.xml&quot;</span>);</span><br><span class="line">People people = ac.getBean(<span class="string">&quot;peo2&quot;</span>, People<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">System.out.println(people);</span><br></pre></td></tr></table></figure></li></ul></li></ol><h4 id="&#x7ED9;-bean-&#x7684;&#x5C5E;&#x6027;&#x8D4B;&#x503C;"><a class="markdownIt-Anchor" href="#&#x7ED9;-bean-&#x7684;&#x5C5E;&#x6027;&#x8D4B;&#x503C;"></a> &#x7ED9; Bean &#x7684;&#x5C5E;&#x6027;&#x8D4B;&#x503C;</h4><ol><li><p>&#x901A;&#x8FC7;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#x8BBE;&#x7F6E;&#x503C;&#xFF08;&#x5982;&#x4E0A;&#x6587;&#x6240;&#x8FF0;&#xFF09;</p></li><li><p>&#x8BBE;&#x7F6E;&#x6CE8;&#x5165;</p><ul><li><p>&#x5C5E;&#x6027;&#x662F;&#x57FA;&#x672C;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x6216;&#x8005;&#x662F; String &#x7B49;&#x7B80;&#x5355;&#x7C7B;&#x578B;</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;peo&quot;</span> <span class="attr">class</span>=<span class="string">&quot;xyz.xijinian.pojo.People&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;id&quot;</span> <span class="attr">value</span>=<span class="string">&quot;222&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&#x5F20;&#x4E09;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- &#x2191;&#x7B49;&#x4EF7;&#x4E8E;&#x2193; --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;peo&quot;</span> <span class="attr">class</span>=<span class="string">&quot;xyz.xijinian.pojo.People&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;id&quot;</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">value</span>&gt;</span>456<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">value</span>&gt;</span>zhangsan<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>&#x5C5E;&#x6027;&#x662F; Set&lt;?&gt;</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;sets&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">set</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">value</span>&gt;</span>1<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">value</span>&gt;</span>2<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">value</span>&gt;</span>3<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">value</span>&gt;</span>4<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>&#x5C5E;&#x6027;&#x662F; List&lt;?&gt;</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- &#x5F53; List &#x4E2D;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x65F6; --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;list&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">&lt;!-- &#x6B63;&#x5E38;&#x72B6;&#x6001;&#x4E0B;&#x7684; List --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;strs&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">value</span>&gt;</span>1<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">value</span>&gt;</span>2<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">value</span>&gt;</span>3<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>&#x5C5E;&#x6027;&#x662F;&#x6570;&#x7EC4;</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;strs&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">value</span>&gt;</span>1<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">value</span>&gt;</span>2<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">value</span>&gt;</span>3<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>&#x5C5E;&#x6027;&#x662F; Map<?, ?></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;map&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">map</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">&quot;a&quot;</span> <span class="attr">value</span>=<span class="string">&quot;b&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">entry</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">&quot;c&quot;</span> <span class="attr">value</span>=<span class="string">&quot;d&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">entry</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">map</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>&#x5C5E;&#x6027;&#x662F; Properties &#x7C7B;&#x578B;</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;demo&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">props</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">&quot;key&quot;</span>&gt;</span>value<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">&quot;key1&quot;</span>&gt;</span>value1<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">props</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul></li></ol><h4 id="di"><a class="markdownIt-Anchor" href="#di"></a> DI</h4><ul><li><p>&#x4F5C;&#x7528;</p><p>DI &#x548C; IoC &#x5176;&#x5B9E;&#x5DEE;&#x4E0D;&#x591A;&#xFF0C;&#x5B9E;&#x9645;&#x4E0A;&#x5C31;&#x662F;&#x5F53;&#x4E00;&#x4E2A;&#x7C7B;&#xFF08;A&#xFF09;&#x4E2D;&#x7684;&#x5C5E;&#x6027;&#x4F9D;&#x8D56;&#x4E8E;&#x53E6;&#x4E00;&#x4E2A;&#x7C7B;&#xFF08;B&#xFF09;&#x7684;&#x5BF9;&#x8C61;&#x65F6;&#xFF0C;&#x628A; B &#x8D4B;&#x503C;&#x7ED9; A &#x7684;&#x8FC7;&#x7A0B;&#x5C31;&#x53EB;&#x505A;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x3002;</p></li><li><p>&#x4EE3;&#x7801;</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;peo&quot;</span> <span class="attr">class</span>=<span class="string">&quot;xyz.xijinian.pojo.People&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;desk&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;desk&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;desk&quot;</span> <span class="attr">class</span>=<span class="string">&quot;xyz.xijinian.pojo.Desk&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;id&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;price&quot;</span> <span class="attr">value</span>=<span class="string">&quot;12&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="&#x4F7F;&#x7528;-spring-&#x7B80;&#x5316;-mybatis"><a class="markdownIt-Anchor" href="#&#x4F7F;&#x7528;-spring-&#x7B80;&#x5316;-mybatis"></a> &#x4F7F;&#x7528; Spring &#x7B80;&#x5316; MyBatis</h3><h4 id="&#x5BFC;&#x5165;&#x6240;&#x9700;&#x7684;-jar-&#x5305;"><a class="markdownIt-Anchor" href="#&#x5BFC;&#x5165;&#x6240;&#x9700;&#x7684;-jar-&#x5305;"></a> &#x5BFC;&#x5165;&#x6240;&#x9700;&#x7684; JAR &#x5305;</h4><p>&#x5305;&#x62EC; MyBatis &#x7684;&#x6240;&#x6709; JAR &#x5305;&#x548C; Spring &#x7684;&#x57FA;&#x672C; JAR &#x5305;&#xFF0C;&#x4EE5;&#x53CA; spring-jdbc&#x3001;spring-tx&#x3001;spring-aop&#x3001;spring-web&#x3001;mybatis-spring</p><h4 id="&#x914D;&#x7F6E;-webxml"><a class="markdownIt-Anchor" href="#&#x914D;&#x7F6E;-webxml"></a> &#x914D;&#x7F6E; web.xml</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">version</span>=<span class="string">&quot;3.0&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns</span>=<span class="string">&quot;http://java.sun.com/xml/ns/javaee&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://java.sun.com/xml/ns/javaee                       </span></span></span><br><span class="line"><span class="tag"><span class="string">    http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- &#x4E0A;&#x4E0B;&#x6587;&#x53C2;&#x6570; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context-param</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- Spring &#x914D;&#x7F6E;&#x6587;&#x4EF6; --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>classpath:applicationContext.xml<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">context-param</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- &#x5C01;&#x88C5;&#x4E86;&#x4E00;&#x4E2A;&#x76D1;&#x542C;&#x5668;,&#x5E2E;&#x52A9;&#x52A0;&#x8F7D; Spring &#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">listener</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">listener-class</span>&gt;</span>org.springframework.web.context.ContextLoaderListener<span class="tag">&lt;/<span class="name">listener-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">listener</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- &#x7531;&#x6B64;&#xFF0C;Spring &#x5C06;&#x57FA;&#x4E8E; bean &#x5B9A;&#x4E49;&#x521B;&#x5EFA;&#x4E00;&#x4E2A; WebApplicationContext &#x5BF9;&#x8C61; --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- &#x5E76;&#x5C06;&#x5176;&#x5B58;&#x50A8;&#x5728; Web &#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684; ServletContext&#x4E2D; --&gt;</span></span><br></pre></td></tr></table></figure><h4 id="&#x914D;&#x7F6E;-spring-&#x914D;&#x7F6E;&#x6587;&#x4EF6;"><a class="markdownIt-Anchor" href="#&#x914D;&#x7F6E;-spring-&#x914D;&#x7F6E;&#x6587;&#x4EF6;"></a> &#x914D;&#x7F6E; Spring &#x914D;&#x7F6E;&#x6587;&#x4EF6;</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- applicationContext.xml --&gt;</span></span><br><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- &#x6570;&#x636E;&#x6E90;&#x5C01;&#x88C5;&#x7C7B;&#xFF08;&#x6570;&#x636E;&#x6E90;:&#x83B7;&#x53D6;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#xFF0C;spring-jdbc.jar&#x4E2D;&#xFF09; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dataSouce&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/ssm&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;smallming&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- &#x521B;&#x5EFA; SqlSessionFactory &#x5BF9;&#x8C61; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;factory&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x4FE1;&#x606F;&#x6765;&#x6E90;&#x4E8E; dataSource --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dataSouce&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- &#x626B;&#x63CF;&#x5668;&#x76F8;&#x5F53;&#x4E8E; mybatis.xml &#x4E2D; mappers &#x4E0B; package &#x6807;&#x7B7E; --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &#x626B;&#x63CF; xyz.xijinian.mapper &#x5305;&#x540E;&#xFF0C;&#x4F1A;&#x7ED9;&#x5BF9;&#x5E94;&#x63A5;&#x53E3;&#x521B;&#x5EFA;&#x5BF9;&#x8C61; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &#x8981;&#x626B;&#x63CF;&#x54EA;&#x4E2A;&#x5305; --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;basePackage&quot;</span> <span class="attr">value</span>=<span class="string">&quot;xyz.xijinian.mapper&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &#x548C;factory&#x4EA7;&#x751F;&#x5173;&#x7CFB; --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;sqlSessionFactory&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;factory&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- &#x7531; Spring &#x7BA1;&#x7406; service &#x5B9E;&#x73B0;&#x7C7B; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;airportService&quot;</span> <span class="attr">class</span>=<span class="string">&quot;xyz.xijinian.service.impl.AirportServiceImpl&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;airportMapper&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;airportMapper&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="&#x7F16;&#x5199;&#x6B63;&#x5E38;&#x7684;-pojo"><a class="markdownIt-Anchor" href="#&#x7F16;&#x5199;&#x6B63;&#x5E38;&#x7684;-pojo"></a> &#x7F16;&#x5199;&#x6B63;&#x5E38;&#x7684; POJO</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Airport</span> </span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String portName;</span><br><span class="line">    <span class="keyword">private</span> String cityName;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getId</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(<span class="keyword">int</span> id)</span> </span>{</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getPortName</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> portName;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPortName</span><span class="params">(String portName)</span> </span>{</span><br><span class="line">        <span class="keyword">this</span>.portName = portName;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCityName</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> cityName;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCityName</span><span class="params">(String cityName)</span> </span>{</span><br><span class="line">        <span class="keyword">this</span>.cityName = cityName;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Airport [id=&quot;</span> + id + <span class="string">&quot;, portName=&quot;</span> + portName + <span class="string">&quot;, cityName=&quot;</span> + cityName + <span class="string">&quot;]&quot;</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><h4 id="&#x7F16;&#x5199;-mapper"><a class="markdownIt-Anchor" href="#&#x7F16;&#x5199;-mapper"></a> &#x7F16;&#x5199; Mapper</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x5FC5;&#x987B;&#x4F7F;&#x7528;&#x63A5;&#x53E3;&#x7ED1;&#x5B9A;&#x65B9;&#x6848;&#x6216;&#x8005;&#x6CE8;&#x89E3;&#x65B9;&#x6848;&#xFF08;&#x5FC5;&#x987B;&#x6709;&#x63A5;&#x53E3;&#xFF09;</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">AirportMapper</span> </span>{</span><br><span class="line">    <span class="meta">@Select</span>(<span class="string">&quot;select * from airport&quot;</span>)</span><br><span class="line">    <span class="function">List&lt;Airport&gt; <span class="title">selAll</span><span class="params">()</span></span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure><h4 id="&#x7F16;&#x5199;-service-&#x63A5;&#x53E3;&#x548C;&#x5176;&#x5B9E;&#x73B0;&#x7C7B;"><a class="markdownIt-Anchor" href="#&#x7F16;&#x5199;-service-&#x63A5;&#x53E3;&#x548C;&#x5176;&#x5B9E;&#x73B0;&#x7C7B;"></a> &#x7F16;&#x5199; Service &#x63A5;&#x53E3;&#x548C;&#x5176;&#x5B9E;&#x73B0;&#x7C7B;</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x63A5;&#x53E3;&#x7C7B;</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">AirportService</span> </span>{</span><br><span class="line">    <span class="function">List&lt;Airport&gt; <span class="title">show</span><span class="params">()</span></span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x63A5;&#x53E3;&#x5B9E;&#x73B0;&#x7C7B;&#xFF0C;&#x9700;&#x8981;&#x5728;&#x8FD9;&#x58F0;&#x660E; Mapper &#x63A5;&#x53E3;&#x5BF9;&#x8C61;&#xFF0C;&#x5E76;&#x751F;&#x6210; get/set &#x65B9;&#x6CD5;</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AirportServiceImpl</span> <span class="keyword">implements</span> <span class="title">AirportService</span> </span>{</span><br><span class="line">    <span class="keyword">private</span> AirportMapper airportMapper;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> AirportMapper <span class="title">getAirportMapper</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> airportMapper;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAirportMapper</span><span class="params">(AirportMapper airportMapper)</span> </span>{</span><br><span class="line">        <span class="keyword">this</span>.airportMapper = airportMapper;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Airport&gt; <span class="title">show</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> airportMapper.selAll();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><h4 id="&#x5199;-servlet"><a class="markdownIt-Anchor" href="#&#x5199;-servlet"></a> &#x5199; Servlet</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet</span>(<span class="string">&quot;/airport&quot;</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AirportServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>{</span><br><span class="line">    <span class="keyword">private</span> AirportService airportService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> <span class="keyword">throws</span> ServletException </span>{</span><br><span class="line">        <span class="comment">// Spring &#x548C; web &#x6574;&#x5408;&#x540E;&#x6240;&#x6709;&#x4FE1;&#x606F;&#x90FD;&#x5B58;&#x653E;&#x5728; webApplicationContext</span></span><br><span class="line">        ApplicationContext ac = WebApplicationContextUtils</span><br><span class="line">            .getRequiredWebApplicationContext(getServletContext());</span><br><span class="line">        airportService = ac.getBean(<span class="string">&quot;airportService&quot;</span>, AirportServiceImpl<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> </span></span><br><span class="line"><span class="function">        <span class="keyword">throws</span> ServletException, IOException </span>{</span><br><span class="line">        req.setAttribute(<span class="string">&quot;list&quot;</span>, airportService.show());</span><br><span class="line">        req.getRequestDispatcher(<span class="string">&quot;index.jsp&quot;</span>).forward(req, resp);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><h4 id="&#x6700;&#x540E;&#x5199;-jsp"><a class="markdownIt-Anchor" href="#&#x6700;&#x540E;&#x5199;-jsp"></a> &#x6700;&#x540E;&#x5199; JSP</h4><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">&quot;java&quot;</span> contentType=<span class="string">&quot;text/html; charset=UTF-8&quot;</span></span><br><span class="line">    pageEncoding=<span class="string">&quot;UTF-8&quot;</span>%&gt;</span><br><span class="line">&lt;%@ taglib prefix=<span class="string">&quot;c&quot;</span> uri=<span class="string">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> %&gt;</span><br><span class="line">&lt;!DOCTYPE html PUBLIC <span class="string">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span> <span class="string">&quot;http://www.w3.org/TR/html4/loose.dtd&quot;</span>&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta http-equiv=<span class="string">&quot;Content-Type&quot;</span> content=<span class="string">&quot;text/html; charset=UTF-8&quot;</span>&gt;</span><br><span class="line">    &lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;c:forEach items=<span class="string">&quot;${list}&quot;</span> <span class="keyword">var</span>=<span class="string">&quot;a&quot;</span>&gt;</span><br><span class="line">        ${a.id} ${a.portName} ${a.cityName}&lt;br /&gt;</span><br><span class="line">    &lt;/c:forEach&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h3 id="aop"><a class="markdownIt-Anchor" href="#aop"></a> AOP</h3><h4 id="&#x4F5C;&#x7528;-2"><a class="markdownIt-Anchor" href="#&#x4F5C;&#x7528;-2"></a> &#x4F5C;&#x7528;</h4><p>&#x5728;&#x7A0B;&#x5E8F;&#x539F;&#x6709;&#x7684;&#x7EB5;&#x5411;&#x6267;&#x884C;&#x6D41;&#x7A0B;&#x4E2D;&#xFF0C;&#x9488;&#x5BF9;&#x67D0;&#x4E00;&#x4E2A;&#x6216;&#x67D0;&#x4E00;&#x4E9B;&#x65B9;&#x6CD5;&#x6DFB;&#x52A0;&#x901A;&#x77E5;&#xFF0C;&#x5F62;&#x6210;&#x5207;&#x9762;&#x8FC7;&#x7A0B;&#x5C31;&#x53EB;&#x505A;<strong>&#x9762;&#x5411;&#x5207;&#x9762;&#x7F16;&#x7A0B;</strong>&#x3002;&#x5B83;&#x53EF;&#x4EE5;&#x65E0;&#x4FB5;&#x5165;&#x62D3;&#x5C55;&#x539F;&#x6765;&#x4EE3;&#x7801;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x975E;&#x5E38;&#x7075;&#x6D3B;&#x3002;</p><h4 id="&#x5E38;&#x7528;&#x6982;&#x5FF5;"><a class="markdownIt-Anchor" href="#&#x5E38;&#x7528;&#x6982;&#x5FF5;"></a> &#x5E38;&#x7528;&#x6982;&#x5FF5;</h4><ul><li>&#x5207;&#x70B9;&#xFF08;Pointcut&#xFF09;&#xFF1A;&#x539F;&#x6709;&#x529F;&#x80FD;</li><li>&#x524D;&#x7F6E;&#x901A;&#x77E5;&#xFF08;before advice&#xFF09;&#xFF1A;&#x5728;&#x5207;&#x70B9;&#x4E4B;&#x524D;&#x6267;&#x884C;&#x7684;&#x529F;&#x80FD;</li><li>&#x540E;&#x7F6E;&#x901A;&#x77E5;&#xFF08;after advice&#xFF09;&#xFF1A;&#x5728;&#x5207;&#x70B9;&#x4E4B;&#x540E;&#x6267;&#x884C;&#x7684;&#x529F;&#x80FD;</li><li>&#x5F02;&#x5E38;&#x901A;&#x77E5;&#xFF08;throws advice&#xFF09;&#xFF1A;&#x5207;&#x70B9;&#x6267;&#x884C;&#x8FC7;&#x7A0B;&#x4E2D;&#x51FA;&#x73B0;&#x5F02;&#x5E38;</li><li>&#x5207;&#x9762;&#xFF1A;&#x6240;&#x6709;&#x529F;&#x80FD;&#x7684;&#x603B;&#x79F0;</li><li>&#x7EC7;&#x5165;&#xFF1A;&#x628A;&#x5207;&#x9762;&#x5D4C;&#x5165;&#x5230;&#x539F;&#x6709;&#x529F;&#x80FD;&#x7684;&#x8FC7;&#x7A0B;&#x5C31;&#x53EB;&#x505A;&#x7EC7;&#x5165;</li></ul><h4 id="&#x5B9E;&#x73B0;-aop-&#x7684;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;"><a class="markdownIt-Anchor" href="#&#x5B9E;&#x73B0;-aop-&#x7684;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;"></a> &#x5B9E;&#x73B0; AOP &#x7684;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;</h4><ol><li><p>Schema-based</p><ul><li><p>&#x6BCF;&#x4E2A;&#x901A;&#x77E5;&#x90FD;&#x9700;&#x8981;&#x5B9E;&#x73B0;&#x63A5;&#x53E3;&#x6216;&#x7C7B;</p></li><li><p>&#x914D;&#x7F6E; applicationContext.xml &#x6587;&#x4EF6;&#x65F6;&#x5728; &lt;aop:config&gt; &#x8FD9;&#x4E2A;&#x6807;&#x7B7E;&#x91CC;&#x9762;&#x914D;&#x7F6E;</p></li><li><p>&#x5B9E;&#x73B0;&#x6B65;&#x9AA4;</p><ol><li><p>&#x5BFC;&#x5165;&#x76F8;&#x5173; JAR &#x5305;</p></li><li><p>&#x5199;&#x8981;&#x88AB;&#x7EC7;&#x5165;&#x901A;&#x77E5;&#x7684;&#x7C7B;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> demo1 {</span><br><span class="line">        System.out.println(<span class="string">&quot;demo1&quot;</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> demo2 {</span><br><span class="line">        System.out.println(<span class="string">&quot;demo2&quot;</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> demo3 {</span><br><span class="line">        System.out.println(<span class="string">&quot;demo3&quot;</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure></li><li><p>&#x5EFA;&#x7ACB;&#x524D;&#x7F6E;&#x901A;&#x77E5;&#x4EE5;&#x53CA;&#x540E;&#x7F6E;&#x901A;&#x77E5;&#x7C7B;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x5EFA;&#x7ACB;&#x524D;&#x7F6E;&#x901A;&#x77E5;&#x7C7B;</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyBeforeAdvice</span> <span class="keyword">implements</span> <span class="title">MethodBeforeAdvice</span> </span>{</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="comment">// arg0&#xFF1A;&#x5207;&#x70B9;&#x65B9;&#x6CD5;&#x5BF9;&#x8C61;</span></span><br><span class="line">    <span class="comment">// arg1&#xFF1A;&#x5207;&#x70B9;&#x65B9;&#x6CD5;&#x53C2;&#x6570;</span></span><br><span class="line">    <span class="comment">// arg2&#xFF1A;&#x5207;&#x70B9;&#x5728;&#x54EA;&#x4E2A;&#x5BF9;&#x8C61;&#x4E2D;</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">before</span><span class="params">(Method arg0, Object[] arg1, Object arg2)</span> </span></span><br><span class="line"><span class="function">        <span class="keyword">throws</span> Throwable </span>{</span><br><span class="line">        System.out.println(<span class="string">&quot;&#x6267;&#x884C;&#x524D;&#x7F6E;&#x901A;&#x77E5;&quot;</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x5EFA;&#x7ACB;&#x540E;&#x7F6E;&#x901A;&#x77E5;&#x7C7B;</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyAfterAdvice</span> <span class="keyword">implements</span> <span class="title">AfterReturningAdvice</span> </span>{</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="comment">// arg0&#xFF1A;&#x5207;&#x70B9;&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x503C;</span></span><br><span class="line">    <span class="comment">// arg1&#xFF1A;&#x5207;&#x70B9;&#x65B9;&#x6CD5;&#x5BF9;&#x8C61;</span></span><br><span class="line">    <span class="comment">// arg2&#xFF1A;&#x5207;&#x70B9;&#x65B9;&#x6CD5;&#x53C2;&#x6570;</span></span><br><span class="line">    <span class="comment">// arg3&#xFF1A;&#x5207;&#x70B9;&#x65B9;&#x6CD5;&#x6240;&#x5728;&#x7C7B;&#x7684;&#x5BF9;&#x8C61;</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterReturning</span><span class="params">(Object arg0, Method arg1, Object[] arg2, </span></span></span><br><span class="line"><span class="function"><span class="params">                               Object arg3)</span> <span class="keyword">throws</span> Throwable </span>{</span><br><span class="line">        System.out.println(<span class="string">&quot;&#x6267;&#x884C;&#x540E;&#x7F6E;&#x901A;&#x77E5;&quot;</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure></li><li><p>&#x914D;&#x7F6E; applicationContext.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:aop</span>=<span class="string">&quot;http://www.springframework.org/schema/aop&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">    http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">    http://www.springframework.org/schema/aop</span></span></span><br><span class="line"><span class="tag"><span class="string">    http://www.springframework.org/schema/aop/spring-aop.xsd&quot;</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- &#x914D;&#x7F6E;&#x901A;&#x77E5;&#x7C7B;&#x5BF9;&#x8C61;&#xFF0C;&#x5728;&#x5207;&#x9762;&#x4E2D;&#x5F15;&#x5165; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;mybefore&quot;</span> <span class="attr">class</span>=<span class="string">&quot;xyz.xijinian.advice.MyBeforeAdvice&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;myafter&quot;</span> <span class="attr">class</span>=<span class="string">&quot;xyz.xijinian.advice.MyAfterAdvice&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- &#x914D;&#x7F6E;&#x5207;&#x9762; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:config</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &#x914D;&#x7F6E;&#x5207;&#x70B9; --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">expression</span>=<span class="string">&quot;execution(* xyz.xijinian.test.Demo.demo2())&quot;</span> <span class="attr">id</span>=<span class="string">&quot;mypoint&quot;</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &#x901A;&#x77E5; --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:advisor</span> <span class="attr">advice-ref</span>=<span class="string">&quot;mybefore&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;mypoint&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:advisor</span> <span class="attr">advice-ref</span>=<span class="string">&quot;myafter&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;mypoint&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &#x914D;&#x7F6E; Demo &#x7C7B;&#xFF0C;&#x6D4B;&#x8BD5;&#x4F7F;&#x7528; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;demo&quot;</span> <span class="attr">class</span>=<span class="string">&quot;xyz.xijinian.test.Demo&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- &#x5728;&#x914D;&#x7F6E;&#x5207;&#x70B9;&#x90A3;&#x91CC;&#xFF0C;&#x7B2C;&#x4E00;&#x4E2A;&quot;*&quot;&#x58F0;&#x660E;&#x901A;&#x914D;&#x7B26;&#xFF0C;&#x5982;&#x679C;&#x65B9;&#x6CD5;&#x4E2D;&#x6709;&#x53C2;&#x6570;&#xFF0C;&#x53EF;&#x4EE5;&#x8FD9;&#x6837;&#x5199;&#xFF1A; --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- expression=&quot;execution(* xyz.xijinian.test.Demo.*(..))&quot; --&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>&#x6D4B;&#x8BD5;&#x4EE3;&#x7801;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        ApplicationContext ac = </span><br><span class="line">            <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;applicationContext.xml&quot;</span>);</span><br><span class="line">        Demo demo = ac.getBean(<span class="string">&quot;demo&quot;</span>, Demo<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        demo.demo1();</span><br><span class="line">        demo.demo2();</span><br><span class="line">        demo.demo3();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure></li></ol></li></ul></li><li><p>AspectJ</p><ul><li>&#x6BCF;&#x4E2A;&#x901A;&#x77E5;&#x4E0D;&#x9700;&#x8981;&#x5B9E;&#x73B0;&#x63A5;&#x53E3;&#x6216;&#x7C7B;</li><li>&#x914D;&#x7F6E; applicationContext.xml &#x6587;&#x4EF6;&#x65F6;&#x5728; &lt;aop:config&gt; &#x8FD9;&#x4E2A;&#x6807;&#x7B7E;&#x7684;&#x5B50;&#x6807;&#x7B7E; &lt;aop:aspect&gt; &#x91CC;&#x9762;&#x914D;&#x7F6E;</li></ul></li></ol><h4 id="&#x914D;&#x7F6E;&#x5F02;&#x5E38;&#x901A;&#x77E5;aspectj"><a class="markdownIt-Anchor" href="#&#x914D;&#x7F6E;&#x5F02;&#x5E38;&#x901A;&#x77E5;aspectj"></a> &#x914D;&#x7F6E;&#x5F02;&#x5E38;&#x901A;&#x77E5;&#xFF08;AspectJ&#xFF09;</h4><ol><li><p>&#x5199;&#x4E00;&#x4E2A;&#x6B63;&#x5E38;&#x7684;&#x7C7B;&#xFF0C;&#x5C06;&#x5176;&#x4E2D;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#x4F5C;&#x4E3A;&#x5207;&#x70B9;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x4E0D;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#x4E5F;&#x53EF;&#x4EE5;&#xFF0C;&#x5C31;&#x662F;&#x5F02;&#x5E38;&#x901A;&#x77E5;&#x7C7B;&#x4F1A;&#x83B7;&#x53D6;&#x4E0D;&#x5230;&#x5F02;&#x5E38;&#x4FE1;&#x606F;</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> <span class="title">throws</span> <span class="title">Exception</span></span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">demo1</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">5</span> / <span class="number">0</span>;</span><br><span class="line">        System.out.println(<span class="string">&quot;demo1&quot;</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure></li><li><p>&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x5F02;&#x5E38;&#x901A;&#x77E5;&#x7C7B;&#xFF0C;&#x65E0;&#x9700;&#x5B9E;&#x73B0;&#x63A5;&#x53E3;&#xFF0C;&#x65B9;&#x6CD5;&#x7684;&#x540D;&#x79F0;&#x4E5F;&#x968F;&#x610F;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyThrowAdvice</span> </span>{</span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">myexception</span><span class="params">(Exception e)</span> </span>{</span><br><span class="line">     System.out.println(<span class="string">&quot;&#x6267;&#x884C;&#x5F02;&#x5E38;&#x901A;&#x77E5;&quot;</span> + e.getMessage());</span><br><span class="line"> }</span><br><span class="line">}</span><br></pre></td></tr></table></figure></li><li><p>&#x914D;&#x7F6E; applicationContext.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- &lt;aop:aspect&gt; &#x7684; ref &#x5C5E;&#x6027;&#x8868;&#x793A;&#x5F02;&#x5E38;&#x65B9;&#x6CD5;&#x5728;&#x54EA;&#x4E2A;&#x7C7B;&#x4E2D;</span></span><br><span class="line"><span class="comment">&lt;!-- &lt;aop:xxxx &#x8868;&#x793A;&#x8868;&#x793A;&#x4EC0;&#x4E48;&#x901A;&#x77E5;</span></span><br><span class="line"><span class="comment">&lt;!-- method &#x8868;&#x793A;&#x5F53;&#x89E6;&#x53D1;&#x8FD9;&#x4E2A;&#x901A;&#x77E5;&#x65F6;&#xFF0C;&#x8C03;&#x7528;&#x54EA;&#x4E2A;&#x65B9;&#x6CD5;</span></span><br><span class="line"><span class="comment">&lt;!-- throwing &#x8868;&#x793A;&#x5BF9;&#x8C61;&#x540D;&#xFF0C;&#x5FC5;&#x987B;&#x548C;&#x901A;&#x77E5;&#x4E2D;&#x65B9;&#x6CD5;&#x53C2;&#x6570;&#x540D;&#x76F8;&#x540C;&#xFF08;&#x53EF;&#x4EE5;&#x4E0D;&#x5728;&#x901A;&#x77E5;&#x4E2D;&#x58F0;&#x660E;&#x5F02;&#x5E38;&#x5BF9;&#x8C61;&#xFF09; --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;demo&quot;</span> <span class="attr">class</span>=<span class="string">&quot;xyz.xijinian.test.Demo&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;mythrow&quot;</span> <span class="attr">class</span>=<span class="string">&quot;xyz.xijinian.advice.MyThrowAdvice&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">aop:config</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:aspect</span> <span class="attr">ref</span>=<span class="string">&quot;mythrow&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">expression</span>=<span class="string">&quot;execution(* xyz.xijinian.test.Demo.demo1())&quot;</span> <span class="attr">id</span>=<span class="string">&quot;mypoint&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:after-throwing</span> <span class="attr">method</span>=<span class="string">&quot;myexception&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;mypoint&quot;</span> <span class="attr">throwing</span>=<span class="string">&quot;e1&quot;</span> <span class="attr">throwing</span>=<span class="string">&quot;e&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">aop:aspect</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>&#x5199;&#x6D4B;&#x8BD5;&#x7C7B;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        Application application = </span><br><span class="line">            <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;applicationContext.xml&quot;</span>);</span><br><span class="line">        Demo demo = application.getBean(<span class="string">&quot;demo&quot;</span>, Demo<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        <span class="keyword">try</span> {</span><br><span class="line">            demo.demo1();</span><br><span class="line">        } <span class="keyword">catch</span> (Exception e) {}</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure></li></ol><h4 id="&#x914D;&#x7F6E;&#x5F02;&#x5E38;&#x901A;&#x77E5;schema-based"><a class="markdownIt-Anchor" href="#&#x914D;&#x7F6E;&#x5F02;&#x5E38;&#x901A;&#x77E5;schema-based"></a> &#x914D;&#x7F6E;&#x5F02;&#x5E38;&#x901A;&#x77E5;&#xFF08;Schema-based&#xFF09;</h4><ol><li><p>&#x5199;&#x4E00;&#x4E2A;&#x6B63;&#x5E38;&#x7684;&#x7C7B;&#xFF0C;&#x5C06;&#x5176;&#x4E2D;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#x4F5C;&#x4E3A;&#x5207;&#x70B9;&#xFF0C;&#x4EE3;&#x7801;&#x540C; AspectJ &#x65B9;&#x5F0F;&#x914D;&#x7F6E;&#x5F02;&#x5E38;&#x901A;&#x77E5;</p></li><li><p>&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x5F02;&#x5E38;&#x901A;&#x77E5;&#x7C7B;&#xFF0C;&#x8981;&#x5B9E;&#x73B0; <code>ThrowsAdvice</code>&#xFF0C;&#x5E76;&#x8981;&#x6C42;&#x81EA;&#x5DF1;&#x5199;&#x65B9;&#x6CD5; <code>afterThrowing</code>&#xFF0C;&#x53C2;&#x6570;&#x8981;&#x4E48;&#x56DB;&#x4E2A;&#x3001;&#x8981;&#x4E48;&#x4E00;&#x4E2A;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyThrow</span> <span class="keyword">implements</span> <span class="title">ThrowsAdvice</span> </span>{</span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterThrowing</span><span class="params">(Method m, Object[] args, Object target, Exception ex)</span> </span>{</span><br><span class="line">     System.out.println(<span class="string">&quot;&#x6267;&#x884C;&#x5F02;&#x5E38;&#x901A;&#x77E5;&quot;</span>);</span><br><span class="line"> }</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterThrowing</span><span class="params">(Exception ex)</span> <span class="keyword">throws</span> Throwable </span>{</span><br><span class="line">     System.out.println(<span class="string">&quot;&#x6267;&#x884C;&#x5F02;&#x5E38;&#x901A;&#x8FC7;-schema-base &#x65B9;&#x5F0F; &quot;</span>);</span><br><span class="line"> }</span><br><span class="line">}</span><br></pre></td></tr></table></figure></li><li><p>&#x914D;&#x7F6E; applicationContext.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;demo&quot;</span> <span class="attr">class</span>=<span class="string">&quot;xyz.xijinian.test.Demo&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;mythrow&quot;</span> <span class="attr">class</span>=<span class="string">&quot;xyz.xijinian.advice.MyThrowAdvice&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">aop:config</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">expression</span>=<span class="string">&quot;execution(* xyz.xijinian.test.Demo.demo1())&quot;</span> <span class="attr">id</span>=<span class="string">&quot;mypoint&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:advisor</span> <span class="attr">advice-ref</span>=<span class="string">&quot;mythrow&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;mypoint&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>&#x5199;&#x6D4B;&#x8BD5;&#x7C7B;&#xFF0C;&#x4EE3;&#x7801;&#x540C; AspectJ &#x65B9;&#x5F0F;&#x6D4B;&#x8BD5;</p></li></ol><h4 id="&#x73AF;&#x7ED5;&#x901A;&#x77E5;schema-based"><a class="markdownIt-Anchor" href="#&#x73AF;&#x7ED5;&#x901A;&#x77E5;schema-based"></a> &#x73AF;&#x7ED5;&#x901A;&#x77E5;&#xFF08;Schema-based&#xFF09;</h4><h5 id="&#x5B9A;&#x4E49;"><a class="markdownIt-Anchor" href="#&#x5B9A;&#x4E49;"></a> &#x5B9A;&#x4E49;</h5><p>&#x5C31;&#x662F;&#x628A;&#x524D;&#x7F6E;&#x901A;&#x77E5;&#x548C;&#x540E;&#x7F6E;&#x901A;&#x77E5;&#x90FD;&#x5199;&#x5230;&#x4E00;&#x4E2A;&#x901A;&#x77E5;&#x4E2D;</p><h5 id="&#x5B9E;&#x73B0;&#x6B65;&#x9AA4;"><a class="markdownIt-Anchor" href="#&#x5B9E;&#x73B0;&#x6B65;&#x9AA4;"></a> &#x5B9E;&#x73B0;&#x6B65;&#x9AA4;</h5><ol><li><p>&#x5927;&#x90E8;&#x5206;&#x4E0E;&#x4E0A;&#x8BC9;&#x5185;&#x5BB9;&#x5DEE;&#x4E0D;&#x591A;</p></li><li><p>&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x73AF;&#x7ED5;&#x901A;&#x77E5;&#x7C7B;&#xFF0C;&#x8981;&#x7EE7;&#x627F; <code>MethodInterceptor</code>&#xFF0C;&#x5E76;&#x4E14;&#x8981;&#x5B9E;&#x73B0; <code>invoke</code> &#x65B9;&#x6CD5;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyArround</span> <span class="keyword">implements</span> <span class="title">MethodInterceptor</span> </span>{</span><br><span class="line"> <span class="meta">@Override</span></span><br><span class="line"> <span class="function"><span class="keyword">public</span> Object <span class="title">invoke</span><span class="params">(MethodInvocation arg0)</span> <span class="keyword">throws</span> Throwable </span>{</span><br><span class="line">     System.out.println(<span class="string">&quot;&#x73AF;&#x7ED5;-&#x524D;&#x7F6E;&quot;</span>);</span><br><span class="line">        <span class="comment">// &#x653E;&#x884C;&#xFF0C;&#x8C03;&#x7528;&#x5207;&#x70B9;&#x65B9;&#x5F0F;</span></span><br><span class="line">     Object result = arg0.proceed();</span><br><span class="line">     System.out.println(<span class="string">&quot;&#x73AF;&#x7ED5;-&#x540E;&#x7F6E;&quot;</span>);</span><br><span class="line">     <span class="keyword">return</span> result;</span><br><span class="line"> }</span><br><span class="line">}</span><br></pre></td></tr></table></figure></li><li><p>&#x914D;&#x7F6E; applicationContext.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;demo&quot;</span> <span class="attr">class</span>=<span class="string">&quot;xyz.xijinian.test.Demo&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;myarround&quot;</span> <span class="attr">class</span>=<span class="string">&quot;xyz.xijinian.advice.MyArround&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">aop:config</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">expression</span>=<span class="string">&quot;execution(* xyz.xijinian.test.Demo.demo1())&quot;</span> <span class="attr">id</span>=<span class="string">&quot;mypoint&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:advisor</span> <span class="attr">advice-ref</span>=<span class="string">&quot;myarround&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;mypoint&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol><h4 id="aspectj-&#x5B9E;&#x73B0;&#x5404;&#x79CD;&#x589E;&#x5F3A;&#x901A;&#x77E5;"><a class="markdownIt-Anchor" href="#aspectj-&#x5B9E;&#x73B0;&#x5404;&#x79CD;&#x589E;&#x5F3A;&#x901A;&#x77E5;"></a> AspectJ &#x5B9E;&#x73B0;&#x5404;&#x79CD;&#x589E;&#x5F3A;&#x901A;&#x77E5;</h4><ol><li><p>&#x5B9A;&#x4E49;&#x6211;&#x7684;&#x901A;&#x77E5;&#x7C7B;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyAdvice</span> </span>{</span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">mybefore</span><span class="params">(String name1, <span class="keyword">int</span> age1)</span> </span>{</span><br><span class="line">     System.out.println(<span class="string">&quot;&#x524D;&#x7F6E;:&quot;</span> + name1);</span><br><span class="line"> }</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">mybefore1</span><span class="params">(String name1)</span> </span>{</span><br><span class="line">     System.out.println(<span class="string">&quot;&#x524D;&#x7F6E;:&quot;</span> + name1);</span><br><span class="line"> }</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">myaftering</span><span class="params">()</span> </span>{</span><br><span class="line">     System.out.println(<span class="string">&quot;&#x540E;&#x7F6E;2&quot;</span>);</span><br><span class="line"> }</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">myafter</span><span class="params">()</span> </span>{</span><br><span class="line">     System.out.println(<span class="string">&quot;&#x540E;&#x7F6E;1&quot;</span>);</span><br><span class="line"> }</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">mythrow</span><span class="params">()</span> </span>{</span><br><span class="line">     System.out.println(<span class="string">&quot;&#x5F02;&#x5E38;&#x901A;&#x77E5;&quot;</span>);</span><br><span class="line"> }</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> Object <span class="title">myarround</span><span class="params">(ProceedingJoinPoint p)</span> <span class="keyword">throws</span> Throwable </span>{</span><br><span class="line">     System.out.println(<span class="string">&quot;&#x73AF;&#x7ED5;&#x524D;&#x7F6E;&quot;</span>);</span><br><span class="line">     Object result = p.proceed();</span><br><span class="line">     System.out.println(<span class="string">&quot;&#x73AF;&#x7ED5;&#x540E;&#x7F6E;&quot;</span>);</span><br><span class="line">     <span class="keyword">return</span> result;</span><br><span class="line"> }</span><br><span class="line">}</span><br></pre></td></tr></table></figure></li><li><p>&#x914D;&#x7F6E; applicationContext.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">&lt;aop:after/&gt; &#x540E;&#x7F6E;&#x901A;&#x77E5;&#xFF0C;&#x65E0;&#x8BBA;&#x662F;&#x5426;&#x51FA;&#x73B0;&#x5F02;&#x5E38;&#x90FD;&#x6267;&#x884C;</span></span><br><span class="line"><span class="comment">&lt;aop:after-returing/&gt; &#x540E;&#x7F6E;&#x901A;&#x77E5;&#xFF0C;&#x53EA;&#x6709;&#x5F53;&#x5207;&#x70B9;&#x6B63;&#x786E;&#x6267;&#x884C;&#x65F6;</span></span><br><span class="line"><span class="comment">&lt;aop:after/&gt; &#x548C; &lt;aop:after-returing/&gt; &#x548C; &lt;aop:after-throwing/&gt; &#x6267;&#x884C;&#x987A;&#x5E8F;&#x548C;&#x914D;&#x7F6E;&#x987A;&#x5E8F;&#x6709;&#x5173;</span></span><br><span class="line"><span class="comment">execution() &#x7684;&#x62EC;&#x53F7;&#x4E0D;&#x80FD;&#x6269;&#x4E0A; args</span></span><br><span class="line"><span class="comment">&#x4E2D;&#x95F4;&#x4F7F;&#x7528;&apos;and&apos;&#x4E0D;&#x80FD;&#x4F7F;&#x7528;&apos;&amp;&amp;&apos;&#xFF0C;&#x7531; Spring &#x628A;&apos;and&apos;&#x89E3;&#x6790;&#x6210;&apos;&amp;&amp;&apos;</span></span><br><span class="line"><span class="comment">args &#x662F;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#xFF0C;&#x4F4D;&#x6570;&#x3001;&#x7C7B;&#x578B;&#x548C;&#x987A;&#x5E8F;&#x90FD;&#x8981;&#x548C;&#x5207;&#x70B9;&#x53C2;&#x6570;&#x5BF9;&#x5E94; </span></span><br><span class="line"><span class="comment">&lt;aop:before/&gt; &#x4E2D;&#x7684; arg-names &#x6765;&#x6E90;&#x4E8E; expression &#x4E2D;&#x7684; args()&#xFF0C;&#x5B83;&#x4FE9;&#x540D;&#x79F0;&#x957F;&#x5EA6;&#x548C;&#x987A;&#x5E8F;&#x90FD;&#x8981;&#x4E00;&#x6837;</span></span><br><span class="line"><span class="comment">arg-names=&#x201D;&#x201D; &#x91CC;&#x9762;&#x540D;&#x79F0;&#x5FC5;&#x987B;&#x548C;&#x901A;&#x77E5;&#x65B9;&#x6CD5;&#x53C2;&#x6570;&#x540D;&#x5BF9;&#x5E94;</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:aop</span>=<span class="string">&quot;http://www.springframework.org/schema/aop&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/aop</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/aop/spring-aop.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;demo&quot;</span> <span class="attr">class</span>=<span class="string">&quot;xyz.xijinian.test.Demo&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;myadvice&quot;</span> <span class="attr">class</span>=<span class="string">&quot;xyz.xijinian.advice.MyAdvice&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:config</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:aspect</span> <span class="attr">ref</span>=<span class="string">&quot;myadvice&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">expression</span>=<span class="string">&quot;execution(* xyz.xijinian.test.Demo.demo1(String,int)) and args(name1,age1)&quot;</span> <span class="attr">id</span>=<span class="string">&quot;mypoint&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">expression</span>=<span class="string">&quot;execution(* xyz.xijinian.test.Demo.demo1(String)) and args(name1)&quot;</span> <span class="attr">id</span>=<span class="string">&quot;mypoint1&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:before</span> <span class="attr">method</span>=<span class="string">&quot;mybefore&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;mypoint&quot;</span> <span class="attr">arg-names</span>=<span class="string">&quot;name1,age1&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:before</span> <span class="attr">method</span>=<span class="string">&quot;mybefore1&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;mypoint1&quot;</span> <span class="attr">arg-names</span>=<span class="string">&quot;name1&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:after</span> <span class="attr">method</span>=<span class="string">&quot;myafter&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;mypoint&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:after-returning</span> <span class="attr">method</span>=<span class="string">&quot;myaftering&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;mypoint&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:after-throwing</span> <span class="attr">method</span>=<span class="string">&quot;mythrow&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;mypoint&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:around</span> <span class="attr">method</span>=<span class="string">&quot;myarround&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;mypoint&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">aop:aspect</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol><h4 id="&#x4F7F;&#x7528;&#x6CE8;&#x89E3;&#x57FA;&#x4E8E;-aspectj"><a class="markdownIt-Anchor" href="#&#x4F7F;&#x7528;&#x6CE8;&#x89E3;&#x57FA;&#x4E8E;-aspectj"></a> &#x4F7F;&#x7528;&#x6CE8;&#x89E3;&#xFF08;&#x57FA;&#x4E8E; AspectJ&#xFF09;</h4><ol><li><p>Spring &#x4E0D;&#x4F1A;&#x81EA;&#x52A8;&#x5BFB;&#x627E;&#x6CE8;&#x89E3;&#xFF0C;&#x5FC5;&#x987B;&#x544A;&#x8BC9; Spring &#x54EA;&#x4E9B;&#x5305;&#x4E0B;&#x7684;&#x7C7B;&#x53EF;&#x80FD;&#x4F7F;&#x7528;&#x6CE8;&#x89E3;&#xFF0C;&#x544A;&#x8BC9;&#x7684;&#x65B9;&#x5F0F;&#x662F;&#x5F15;&#x5165; <code>xmlns:context</code> &#x540E;&#x4F7F;&#x7528; <code>&lt;context:component-scan&gt;</code> &#x6807;&#x7B7E;&#x626B;&#x63CF;&#x5305;&#x540D;&#xFF0C;&#x5E76;&#x4E14;&#x8981;&#x8BBE;&#x7F6E;&#x4E3A; cglib &#x52A8;&#x6001;&#x4EE3;&#x7406;</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;xyz.xijinian.advice&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- &#x5982;&#x679C;&#x8BBE;&#x7F6E; proxy-target-class=&quot;true&quot;&#xFF0C;&#x5219;&#x4E3A; JDK &#x52A8;&#x6001;&#x4EE3;&#x7406; --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">aop:aspectj-autoproxy</span> <span class="attr">proxy-target-class</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">aop:aspectj-autoproxy</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>&#x5728;&#x5207;&#x70B9;&#x6240;&#x5728;&#x7C7B;&#x548C;&#x901A;&#x77E5;&#x7C7B;&#x7684;&#x7C7B;&#x540D;&#x4E0A;&#x65B9;&#x4F7F;&#x7528; <code>@Componet</code> &#x6CE8;&#x89E3;&#xFF0C;&#x8FD9;&#x6837;&#x4F1A;&#x4F7F;&#x5F97;&#x8FD9;&#x4E24;&#x4E2A;&#x7C7B;&#x6210;&#x4E3A; Bean&#x3002;&#x5982;&#x679C;&#x60F3;&#x81EA;&#x5B9A;&#x4E49; <code>bean id</code> &#x53EF;&#x4EE5;&#x4F7F;&#x7528; <code>@Componet(&quot;name&quot;)</code>&#xFF0C;&#x4E0D;&#x5199;&#x7684;&#x8BDD; <code>bean id</code> &#x9ED8;&#x8BA4;&#x662F;&#x7C7B;&#x540D;&#xFF0C;&#x4E14;&#x5C06;&#x7C7B;&#x540D;&#x9996;&#x5B57;&#x6BCD;&#x5C0F;&#x5199;&#x3002;</p></li><li><p>&#x5728;&#x5207;&#x70B9;&#x65B9;&#x6CD5;&#x7684;&#x4E0A;&#x65B9;&#x4F7F;&#x7528; <code>@Pointcut</code> &#x6CE8;&#x89E3;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@pointcut</span>(<span class="string">&quot;execution(* xyz.xijinian.test.Demo.demo1())&quot;</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">demo1</span><span class="params">()</span> </span>{</span><br><span class="line">    System.out.println(<span class="string">&quot;demo1&quot;</span>);</span><br><span class="line">}</span><br></pre></td></tr></table></figure></li><li><p>&#x5728;&#x901A;&#x77E5;&#x7C7B;&#x7684;&#x7C7B;&#x540D;&#x4E0A;&#x65B9;&#xFF0C;&#x4F7F;&#x7528; <code>@Aspect</code> &#x6CE8;&#x89E3;&#xFF0C;&#x5E76;&#x5728;&#x7279;&#x5B9A;&#x901A;&#x77E5;&#x65B9;&#x6CD5;&#x4E0A;&#x9762;&#x5199;&#x51FA;&#x7279;&#x5B9A;&#x7684;&#x6CE8;&#x89E3;&#xFF0C;&#x5982; <code>@Before</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyAdvice</span> </span>{</span><br><span class="line">    <span class="meta">@Before</span>(<span class="string">&quot;xyz.xijinian.text.Demo.demo1()&quot;</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">mybefore</span><span class="params">()</span> </span>{</span><br><span class="line">     System.out.println(<span class="string">&quot;&#x524D;&#x7F6E;&#x901A;&#x77E5;&quot;</span>);</span><br><span class="line"> }</span><br><span class="line"></span><br><span class="line"> <span class="meta">@After</span>(<span class="string">&quot;xyz.xijinian.test.Demo.demo1()&quot;</span>)</span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">myafter</span><span class="params">()</span> </span>{</span><br><span class="line">     System.out.println(<span class="string">&quot;&#x540E;&#x7F6E;&#x901A;&#x77E5;&quot;</span>);</span><br><span class="line"> }</span><br><span class="line"></span><br><span class="line"> <span class="meta">@AfterThrowing</span>(<span class="string">&quot;xyz.xijinian.test.Demo.demo1()&quot;</span>)</span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">mythrow</span><span class="params">()</span> </span>{</span><br><span class="line">     System.out.println(<span class="string">&quot;&#x5F02;&#x5E38;&#x901A;&#x77E5;&quot;</span>);</span><br><span class="line"> }</span><br><span class="line"></span><br><span class="line"> <span class="meta">@Around</span>(<span class="string">&quot;xyz.xijinian.test.Demo.demo1()&quot;</span>)</span><br><span class="line"> <span class="function"><span class="keyword">public</span> Object <span class="title">myarround</span><span class="params">(ProceedingJoinPoint p)</span> <span class="keyword">throws</span> Throwable </span>{</span><br><span class="line">     System.out.println(<span class="string">&quot;&#x73AF;&#x7ED5;-&#x524D;&#x7F6E;&quot;</span>);</span><br><span class="line">     Object result = p.proceed();</span><br><span class="line">     System.out.println(<span class="string">&quot;&#x73AF;&#x7ED5;-&#x540E;&#x7F6E;&quot;</span>);</span><br><span class="line">     <span class="keyword">return</span> result;</span><br><span class="line"> }</span><br><span class="line">}</span><br></pre></td></tr></table></figure></li></ol><h4 id="&#x4EE3;&#x7406;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;"><a class="markdownIt-Anchor" href="#&#x4EE3;&#x7406;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;"></a> &#x4EE3;&#x7406;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;</h4><p>&#x5173;&#x4E8E;&#x4EE3;&#x7406;&#x7684;&#x8BE6;&#x7EC6;&#x8D44;&#x6599;&#xFF08;&#x5305;&#x62EC;&#x9759;&#x6001;&#x4EE3;&#x7406;&#x4EE5;&#x53CA;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;&#x7684;&#x52A8;&#x6001;&#x4EE3;&#x7406;&#xFF09;&#xFF0C;&#x53EF;&#x4EE5;&#x53C2;&#x8003;<a href="http://www.cnblogs.com/swiftma/p/6869790.html" target="_blank" rel="noopener">&#x300A;Java &#x7F16;&#x7A0B;&#x7684;&#x903B;&#x8F91;&#x300B;</a>&#xFF0C;&#x975E;&#x5E38;&#x8BE6;&#x7EC6;&#x3002;&#x7B80;&#x5355;&#x6284;&#x5F55;&#x4E00;&#x4E0B;&#x300A;Java &#x7F16;&#x7A0B;&#x7684;&#x903B;&#x8F91;&#x300B;&#x4E2D;&#x63D0;&#x4F9B;&#x7684;&#x4F8B;&#x5B50;&#xFF1A;</p><ol><li><p>&#x9759;&#x6001;&#x4EE3;&#x7406;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SimpleStaticProxyDemo</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">interface</span> <span class="title">IService</span> </span>{</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sayHello</span><span class="params">()</span></span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">RealService</span> <span class="keyword">implements</span> <span class="title">IService</span> </span>{</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sayHello</span><span class="params">()</span> </span>{</span><br><span class="line">            System.out.println(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">TraceProxy</span> <span class="keyword">implements</span> <span class="title">IService</span> </span>{</span><br><span class="line">        <span class="keyword">private</span> IService realService;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">TraceProxy</span><span class="params">(IService realService)</span> </span>{</span><br><span class="line">            <span class="keyword">this</span>.realService = realService;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sayHello</span><span class="params">()</span> </span>{</span><br><span class="line">            System.out.println(<span class="string">&quot;entering sayHello&quot;</span>);</span><br><span class="line">            <span class="keyword">this</span>.realService.sayHello();</span><br><span class="line">            System.out.println(<span class="string">&quot;leaving sayHello&quot;</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        IService realService = <span class="keyword">new</span> RealService();</span><br><span class="line">        IService proxyService = <span class="keyword">new</span> TraceProxy(realService);</span><br><span class="line">        proxyService.sayHello();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure></li><li><p>JDK &#x52A8;&#x6001;&#x4EE3;&#x7406;&#xFF08;&#x57FA;&#x4E8E;&#x53CD;&#x5C04;&#xFF09;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SimpleJDKDynamicProxyDemo</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">interface</span> <span class="title">IService</span> </span>{</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sayHello</span><span class="params">()</span></span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">RealService</span> <span class="keyword">implements</span> <span class="title">IService</span> </span>{</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sayHello</span><span class="params">()</span> </span>{</span><br><span class="line">            System.out.println(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">SimpleInvocationHandler</span> <span class="keyword">implements</span> <span class="title">InvocationHandler</span> </span>{</span><br><span class="line">        <span class="keyword">private</span> Object realObj;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">SimpleInvocationHandler</span><span class="params">(Object realObj)</span> </span>{</span><br><span class="line">            <span class="keyword">this</span>.realObj = realObj;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="comment">// proxy &#x662F;&#x4EE3;&#x7406;&#xFF0C;method &#x662F;&#x771F;&#x5B9E;&#x5BF9;&#x8C61;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;args &#x662F;&#x771F;&#x5B9E;&#x5BF9;&#x8C61;&#x7684;&#x65B9;&#x6CD5;&#x53C2;&#x6570;</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> Object <span class="title">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable </span>{</span><br><span class="line">            System.out.println(<span class="string">&quot;entering &quot;</span> + method.getName());</span><br><span class="line">            <span class="comment">// &#x771F;&#x5B9E;&#x5BF9;&#x8C61;&#x7684;&#x65B9;&#x6CD5;.invoke(&#x771F;&#x5B9E;&#x7684;&#x5BF9;&#x8C61;, &#x771F;&#x5B9E;&#x5BF9;&#x8C61;&#x7684;&#x65B9;&#x6CD5;&#x53C2;&#x6570;)</span></span><br><span class="line">            Object result = method.invoke(realObj, args);</span><br><span class="line">            System.out.println(<span class="string">&quot;leaving &quot;</span> + method.getName());</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        IService realService = <span class="keyword">new</span> RealService();</span><br><span class="line">        <span class="comment">// java.lang.reflect &#x5305;&#x4E2D;&#x7684;&#x9759;&#x6001;&#x7C7B; Proxy &#x7684; newProxyInstance &#x65B9;&#x6CD5;&#x6709;&#x4E09;&#x4E2A;&#x53C2;&#x6570;</span></span><br><span class="line">        <span class="comment">// &#x2460; &#x7C7B;&#x52A0;&#x8F7D;&#x5668;&#xFF1B;&#x2461;&#x771F;&#x5B9E;&#x5BF9;&#x8C61;&#x7684;&#x6240;&#x6709;&#x7684;&#x63A5;&#x53E3;&#xFF1B;&#x2462;&#x4E00;&#x4E2A; InvocationHandler &#x63A5;&#x53E3;&#x7C7B;&#x578B;&#xFF08;&#x4E0E; Proxy &#x540C;&#x5305;&#xFF09;</span></span><br><span class="line">        <span class="comment">// InvocationHandler &#x63A5;&#x53E3;&#x53EA;&#x5B9A;&#x4E49;&#x4E86;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5; invoke&#xFF0C;&#x5BF9;&#x4EE3;&#x7406;&#x63A5;&#x53E3;&#x6240;&#x6709;&#x65B9;&#x6CD5;&#x7684;&#x8C03;&#x7528;&#x90FD;&#x4F1A;&#x8F6C;&#x7ED9;&#x8BE5;&#x65B9;&#x6CD5;</span></span><br><span class="line">        IService proxyService = (IService)Proxy.newProxyInstance(</span><br><span class="line">            IService<span class="class">.<span class="keyword">class</span>.<span class="title">getClassLoader</span>(),</span></span><br><span class="line">            new Class&lt;?&gt;[] { IService.class }, </span><br><span class="line">            <span class="keyword">new</span> SimpleInvocationHandler(realService)</span><br><span class="line">        );</span><br><span class="line">        proxyService.sayHello();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure></li><li><p>cglib &#x52A8;&#x6001;&#x4EE3;&#x7406;&#xFF08;&#x57FA;&#x4E8E;&#x5B57;&#x8282;&#x7801;&#x3001;&#x7EE7;&#x627F;&#xFF09;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SimpleCGLibDemo</span> </span>{</span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">RealService</span> </span>{</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sayHello</span><span class="params">()</span> </span>{</span><br><span class="line">            System.out.println(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">SimpleInterceptor</span> <span class="keyword">implements</span> <span class="title">MethodInterceptor</span> </span>{</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="comment">// object &#x2014;&#x2014; &#x4EE3;&#x7406;&#x5BF9;&#x8C61;</span></span><br><span class="line">        <span class="comment">// method &#x2014;&#x2014; &#x771F;&#x5B9E;&#x5BF9;&#x8C61;&#x7684;&#x65B9;&#x6CD5;</span></span><br><span class="line">        <span class="comment">// args &#x2014;&#x2014; &#x771F;&#x5B9E;&#x5BF9;&#x8C61;&#x65B9;&#x6CD5;&#x7684;&#x53C2;&#x6570;</span></span><br><span class="line">        <span class="comment">// proxy &#x2014;&#x2014; &#x4EE3;&#x7406;&#x5BF9;&#x8C61;&#x91CD;&#x5199;&#x7236;&#x7C7B;&#x7684;&#x540C;&#x540D;&#x65B9;&#x6CD5;</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> Object <span class="title">intercept</span><span class="params">(Object object, Method method,</span></span></span><br><span class="line"><span class="function"><span class="params">                Object[] args, MethodProxy proxy)</span> <span class="keyword">throws</span> Throwable </span>{</span><br><span class="line">            System.out.println(<span class="string">&quot;entering &quot;</span> + method.getName());</span><br><span class="line">            <span class="comment">// &#x4EE3;&#x7406;&#x5BF9;&#x8C61;&#x7684;&#x65B9;&#x6CD5;.invokeSuper(&#x4EE3;&#x7406;&#x5BF9;&#x8C61;, &#x771F;&#x5B9E;&#x5BF9;&#x8C61;&#x65B9;&#x6CD5;&#x7684;&#x53C2;&#x6570;)</span></span><br><span class="line">            Object result = proxy.invokeSuper(object, args);</span><br><span class="line">            System.out.println(<span class="string">&quot;leaving &quot;</span> + method.getName());</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@SuppressWarnings</span>(<span class="string">&quot;unchecked&quot;</span>)</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> &lt;T&gt; <span class="function">T <span class="title">getProxy</span><span class="params">(Class&lt;T&gt; cls)</span> </span>{</span><br><span class="line">        Enhancer enhancer = <span class="keyword">new</span> Enhancer();</span><br><span class="line">        enhancer.setSuperclass(cls);</span><br><span class="line">        enhancer.setCallback(<span class="keyword">new</span> SimpleInterceptor());</span><br><span class="line">        <span class="keyword">return</span> (T) enhancer.create();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>{</span><br><span class="line">        RealService proxyService = getProxy(RealService<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        proxyService.sayHello();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure></li></ol><h3 id="&#x81EA;&#x52A8;&#x6CE8;&#x5165;"><a class="markdownIt-Anchor" href="#&#x81EA;&#x52A8;&#x6CE8;&#x5165;"></a> &#x81EA;&#x52A8;&#x6CE8;&#x5165;</h3><h4 id="&#x4F5C;&#x7528;-3"><a class="markdownIt-Anchor" href="#&#x4F5C;&#x7528;-3"></a> &#x4F5C;&#x7528;</h4><p>&#x5217;&#x4E3E;&#x4E00;&#x4E2A;&#x5728; applicationContext.xml &#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x5E38;&#x89C1;&#x4EE3;&#x7801;&#xFF0C;&#x6211;&#x4EEC;&#x4F1A;&#x53D1;&#x73B0;&#xFF0C;&#x6709;&#x65F6;&#x5019;&#x4E00;&#x4E9B; property &#x7684; name &#x548C; ref &#x76F8;&#x7B49;&#xFF0C;&#x8FD9;&#x6837;&#x5199;&#x6709;&#x70B9;&#x91CD;&#x590D;&#xFF0C;&#x8FD9;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<strong>&#x81EA;&#x52A8;&#x6CE8;&#x5165;</strong>&#x6765;&#x7B80;&#x5316;&#x3002;</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:aop</span>=<span class="string">&quot;http://www.springframework.org/schema/aop&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/aop</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/aop/spring-aop.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &#x6570;&#x636E;&#x6E90; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/ssm&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;smallming&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- SqlSessinFactory&#x5BF9;&#x8C61; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;factory&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dataSource&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;typeAliasesPackage&quot;</span> <span class="attr">value</span>=<span class="string">&quot;xyz.xijinian.pojo&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &#x626B;&#x63CF;&#x5668; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;basePackage&quot;</span> <span class="attr">value</span>=<span class="string">&quot;xyz.xijinian.mapper&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;sqlSessionFactory&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;factory&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &#x6CE8;&#x5165; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;usersService&quot;</span> <span class="attr">class</span>=<span class="string">&quot;xyz.xijinian.service.impl.UsersServiceImpl&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;usersMapper&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;usersMapper&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- aop --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:aspectj-autoproxy</span> <span class="attr">proxy-target-class</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">aop:aspectj-autoproxy</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;mybefore&quot;</span> <span class="attr">class</span>=<span class="string">&quot;xyz.xijinian.advice.MyBefore&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;myafter&quot;</span> <span class="attr">class</span>=<span class="string">&quot;xyz.xijinian.advice.MyAfter&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:config</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">expression</span>=<span class="string">&quot;execution(* xyz.xijinian.service.impl.UsersServiceImpl.login(..))&quot;</span> <span class="attr">id</span>=<span class="string">&quot;mypoint&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:advisor</span> <span class="attr">advice-ref</span>=<span class="string">&quot;mybefore&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;mypoint&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:advisor</span> <span class="attr">advice-ref</span>=<span class="string">&quot;myafter&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;mypoint&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="&#x5F62;&#x5F0F;"><a class="markdownIt-Anchor" href="#&#x5F62;&#x5F0F;"></a> &#x5F62;&#x5F0F;</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:aop</span>=<span class="string">&quot;http://www.springframework.org/schema/aop&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/aop</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/aop/spring-aop.xsd&quot;</span></span></span><br><span class="line">        &lt;!-- default-autowire=&quot;no&quot; &#xFF08;&#x4E0D;&#x5199;&#x5C31;&#x8FD9;&#x6837;&#x9ED8;&#x8BA4;&#xFF09;--&gt;&gt;</span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;teacher&quot;</span> <span class="attr">class</span>=<span class="string">&quot;xyz.xijinian.test.Teacher&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;people&quot;</span> <span class="attr">class</span>=<span class="string">&quot;xyz.xijinian.test.People&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;teacher&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;teacher&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br><span class="line"></span><br><span class="line">&#x2193;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;teacher&quot;</span> <span class="attr">class</span>=<span class="string">&quot;xyz.xijinian.test.Teacher&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- &#x8FD9;&#x4E2A; default &#x662F;&#x9ED8;&#x8BA4;&#xFF08;&#x4E0D;&#x5199;&#x5C31;&#x8FD9;&#x6837;&#x9ED8;&#x8BA4;&#xFF09;&#xFF0C;&#x8868;&#x793A;&#x4ECE; &lt;beans&gt; &#x6807;&#x7B7E;&#x4E2D;&#x83B7;&#x53D6; default-autowire &#x7684;&#x503C; --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- &lt;bean id=&quot;people&quot; class=&quot;xyz.xijinian.test.People&quot; autowire=&quot;default&quot;&gt; --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;people&quot;</span> <span class="attr">class</span>=<span class="string">&quot;xyz.xijinian.test.People&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;teacher&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;teacher&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><p>&#x5728; <code>&lt;beans&gt;</code> &#x6807;&#x7B7E;&#x7684; <code>default-autowire</code> &#x4E2D;&#xFF0C;&#x53EF;&#x9009;&#x7684;&#x5C5E;&#x6027;&#x662F; <code>byName</code>&#x3001;<code>byType</code>&#x3001;<code>constructor</code>&#x3001;<code>no</code>(&#x9ED8;&#x8BA4;)&#xFF1B;&#x5728; <code>&lt;bean&gt;</code> &#x6807;&#x7B7E;&#x7684; <code>autowire</code> &#x4E2D;&#xFF0C;&#x53EF;&#x9009;&#x7684;&#x5C5E;&#x6027;&#x662F; <code>default</code>(&#x9ED8;&#x8BA4;)&#x3001;<code>byName</code>&#x3001;<code>byType</code>&#x3001;<code>constructor</code>&#x3001;<code>no</code>&#x3002;&#x5176;&#x4ED6;&#x90FD;&#x597D;&#x7406;&#x89E3;&#xFF0C;&#x518D;&#x8BF4;&#x8BF4; <code>constructor</code>&#xFF0C;&#x4F7F;&#x7528;&#x5B83;&#x4E00;&#x5B9A;&#x8981;&#x6709;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#xFF08;&#x5E26; ref &#x7684;&#x7C7B;&#x578B;&#x53C2;&#x6570;&#xFF09;&#xFF0C;&#x5B9E;&#x9645;&#x4E0A;&#xFF0C;&#x5B83;&#x4F7F;&#x7528;&#x7684;&#x662F; <code>byName</code>&#x3002;</p><h3 id="&#x4F7F;&#x7528;&#x5C5E;&#x6027;&#x6587;&#x4EF6;"><a class="markdownIt-Anchor" href="#&#x4F7F;&#x7528;&#x5C5E;&#x6027;&#x6587;&#x4EF6;"></a> &#x4F7F;&#x7528;&#x5C5E;&#x6027;&#x6587;&#x4EF6;</h3><h4 id="&#x4F5C;&#x7528;-4"><a class="markdownIt-Anchor" href="#&#x4F5C;&#x7528;-4"></a> &#x4F5C;&#x7528;</h4><p>&#x4E3A;&#x4E86;&#x90E8;&#x7F72;&#x65B9;&#x4FBF;&#xFF0C;&#x53EF;&#x4EE5;&#x5C06; applicationContext.xml &#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x5C5E;&#x6027;&#x90E8;&#x5206;&#x63D0;&#x53D6;&#x5230;&#x4E00;&#x4E2A;&#x5C5E;&#x6027;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x8FD9;&#x6837;&#x65B9;&#x4FBF;&#x4FEE;&#x6539;&#xFF0C;&#x90E8;&#x7F72;&#x7EF4;&#x62A4;&#x8D77;&#x6765;&#x4F1A;&#x66F4;&#x5BB9;&#x6613;&#x3002;</p><h4 id="&#x6B65;&#x9AA4;"><a class="markdownIt-Anchor" href="#&#x6B65;&#x9AA4;"></a> &#x6B65;&#x9AA4;</h4><p>&#x2460; &#x7ED9; applicationContext.xml &#x52A0;&#x4E00;&#x4E2A;&#x6807;&#x7B7E;</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:aop</span>=<span class="string">&quot;http://www.springframework.org/schema/aop&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/aop</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/aop/spring-aop.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &#x5982;&#x9700;&#x591A;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;&#x5C31;&#x7528;&#x9017;&#x53F7;&#x9694;&#x5F00; --&gt;</span></span><br><span class="line">  &#x2192; <span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">&quot;classpath:db.properties&quot;</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &#x6570;&#x636E;&#x6E90; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/ssm&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;smallming&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- SqlSessinFactory&#x5BF9;&#x8C61; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;factory&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dataSource&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;typeAliasesPackage&quot;</span> <span class="attr">value</span>=<span class="string">&quot;xyz.xijinian.pojo&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &#x626B;&#x63CF;&#x5668; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;basePackage&quot;</span> <span class="attr">value</span>=<span class="string">&quot;xyz.xijinian.mapper&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;sqlSessionFactory&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;factory&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><p>&#x2461; &#x5728; src &#x6587;&#x4EF6;&#x5939;&#x4E0B;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A; db.properties &#x6587;&#x4EF6;</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">jdbc.driver</span>=<span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line"><span class="meta">jdbc.url</span>=<span class="string">jdbc:mysql://localhost:3306/ssm</span></span><br><span class="line"><span class="meta">jdbc.password</span>=<span class="string">smallming</span></span><br><span class="line"><span class="meta">jdbc.username</span>=<span class="string">root</span></span><br></pre></td></tr></table></figure><p>&#x2462; &#x5C06; applicationContext.xml &#x4E2D;&#x7684;&#x786C;&#x7F16;&#x7801;&#x66FF;&#x6362;&#x4E3A;&#x5C5E;&#x6027;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x503C;</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:aop</span>=<span class="string">&quot;http://www.springframework.org/schema/aop&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/aop</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/aop/spring-aop.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &#x5982;&#x9700;&#x591A;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;&#x5C31;&#x7528;&#x9017;&#x53F7;&#x9694;&#x5F00; --&gt;</span></span><br><span class="line">  &#x2192; <span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">&quot;classpath:db.properties&quot;</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &#x6570;&#x636E;&#x6E90; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;${jdbc.driver}&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;${jdbc.url}&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;${jdbc.username}&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;${jdbc.password}&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- SqlSessinFactory&#x5BF9;&#x8C61; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;factory&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dataSource&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;typeAliasesPackage&quot;</span> <span class="attr">value</span>=<span class="string">&quot;xyz.xijinian.pojo&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &#x626B;&#x63CF;&#x5668; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;basePackage&quot;</span> <span class="attr">value</span>=<span class="string">&quot;xyz.xijinian.mapper&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;sqlSessionFactory&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;factory&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="&#x6CE8;&#x610F;"><a class="markdownIt-Anchor" href="#&#x6CE8;&#x610F;"></a> &#x6CE8;&#x610F;</h4><p>&#x5982;&#x679C;&#x4F7F;&#x7528;&#x5C5E;&#x6027;&#x6587;&#x4EF6;&#x5E76;&#x4E14;&#x8BBE;&#x7F6E;&#x5168;&#x5C40;&#x81EA;&#x52A8;&#x6CE8;&#x5165;&#x65F6;&#xFF0C;&#x5C31;&#x6709;&#x4E00;&#x4E2A;&#x5C0F;&#x5751;&#x2014;&#x2014;&#x5168;&#x5C40;&#x81EA;&#x52A8;&#x6CE8;&#x5165;&#x4F18;&#x5148;&#x7EA7;&#x592A;&#x9AD8;&#xFF0C;&#x5B83;&#x4F1A;&#x81EA;&#x52A8;&#x52A0;&#x8F7D;&#x4E24;&#x79CD; bean&#xFF1A;&#x2460; &#x88AB;&#x8BBE;&#x7F6E;&#x4E3A;&#x81EA;&#x52A8;&#x6CE8;&#x5165;&#x7684; bean&#x3001;&#x2461; &#x5B58;&#x5728; <code>ref</code> &#x6CE8;&#x5165;&#x5176;&#x4ED6;&#x7C7B;&#x7684; bean&#x3002;&#x8FD9;&#x5BFC;&#x81F4;&#x5728;&#x5B9E;&#x4F8B;&#x5316; DriverManagerDataSource &#xFF08;datasouce&#xFF09;&#x65F6;&#xFF0C;<code>&lt;context:property-placeholder&gt;</code> &#x6807;&#x7B7E;&#x8FD8;&#x672A;&#x52A0;&#x8F7D;&#x3002;&#x89E3;&#x51B3;&#x529E;&#x6CD5;&#x662F;&#xFF1A;</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;sqlSessionFactory&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;factory&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">&#x2193; &#x66FF;&#x6362;&#x4E3A; &#x2191;</span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;sqlSessionFactoryBeanName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;factory&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="&#x4E00;&#x4E2A;&#x5C0F;-tip"><a class="markdownIt-Anchor" href="#&#x4E00;&#x4E2A;&#x5C0F;-tip"></a> &#x4E00;&#x4E2A;&#x5C0F; tip</h4><p>&#x53EA;&#x8981;&#x4E00;&#x4E2A;&#x7C7B;&#x88AB; Spring &#x7BA1;&#x7406;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x5728;&#x8FD9;&#x4E2A;&#x7C7B;&#x4E2D;&#x53D6;&#x5230;&#x5C5E;&#x6027;&#x6587;&#x4EF6;&#x7684;&#x503C;&#xFF0C;&#x6B65;&#x9AA4;&#xFF1A;</p><p>&#x2460; &#x5728; src &#x76EE;&#x5F55;&#x4E0B;&#x5EFA;&#x7ACB;&#x4E00;&#x4E2A;&#x5C5E;&#x6027;&#x6587;&#x4EF6; demo.xml&#xFF0C;&#x91CC;&#x9762;&#x653E;&#x4E00;&#x4E2A;&#x952E;&#x503C;&#x5BF9;</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">my.demo=hello</span><br></pre></td></tr></table></figure><p>&#x2461; &#x5728; applicationContext.xml &#x5F15;&#x5165;&#x8FD9;&#x4E2A;&#x5C5E;&#x6027;&#x6587;&#x4EF6;&#xFF1A;</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">&quot;classpath:db.properties&quot;</span>/&gt;</span></span><br><span class="line">&#x2193; &#x66FF;&#x6362;&#x4E3A; &#x2191;</span><br><span class="line"><span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">&quot;classpath:db.properties,demo.xml&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>&#x2462; &#x5728;&#x67D0;&#x4E00;&#x88AB; Spring &#x7BA1;&#x7406;&#x7684;&#x7C7B;&#x4E2D;&#x4F7F;&#x7528;&#x6CE8;&#x89E3;&#x83B7;&#x53D6;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UseServiceImpl</span> <span class="keyword">implements</span> <span class="title">UsersService</span> </span>{</span><br><span class="line">    <span class="meta">@Value</span>(<span class="string">&quot;${my.demo}&quot;</span>)</span><br><span class="line">    <span class="keyword">private</span> String test;</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p>&#x987A;&#x4FBF;&#x8BF4;&#x4E00;&#x53E5;&#xFF0C;&#x4E3A;&#x4E86;&#x4F7F;&#x6CE8;&#x89E3;&#x751F;&#x6548;&#xFF0C;&#x9700;&#x8981;&#x5728; Spring &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x626B;&#x63CF;&#x6CE8;&#x89E3;&#xFF1A;</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;xyz.xijinian.service.ipml&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="scope-&#x5C5E;&#x6027;"><a class="markdownIt-Anchor" href="#scope-&#x5C5E;&#x6027;"></a> scope &#x5C5E;&#x6027;</h3><h4 id="&#x4F5C;&#x7528;-5"><a class="markdownIt-Anchor" href="#&#x4F5C;&#x7528;-5"></a> &#x4F5C;&#x7528;</h4><p>&#x63A7;&#x5236;&#x5BF9;&#x8C61;&#x662F;&#x5355;&#x4F8B;&#x8FD8;&#x662F;&#x591A;&#x4F8B;&#xFF08;&#x901A;&#x8FC7; Spring &#x83B7;&#x53D6; bean &#x5BF9;&#x8C61;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E00;&#x4E2A; bean &#x53EA;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x65E0;&#x8BBA; getBean &#x591A;&#x5C11;&#x6B21;&#xFF09;</p><h4 id="&#x5199;&#x6CD5;"><a class="markdownIt-Anchor" href="#&#x5199;&#x6CD5;"></a> &#x5199;&#x6CD5;</h4><p>&#x5C31;&#x662F;&#x5728; <code>&lt;bean&gt;</code> &#x6807;&#x7B7E;&#x540E;&#x9762;&#x52A0;&#x4E00;&#x4E2A;&#x5C5E;&#x6027;</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;teacher&quot;</span> <span class="attr">class</span>=<span class="string">&quot;xyz.xijinian.test.Teacher&quot;</span> <span class="attr">scope</span>=<span class="string">&quot;singleton&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="&#x53D6;&#x503C;"><a class="markdownIt-Anchor" href="#&#x53D6;&#x503C;"></a> &#x53D6;&#x503C;</h4><ul><li>singleton&#xFF08;&#x9ED8;&#x8BA4;&#xFF09;</li><li>prototype</li><li>request</li><li>session</li><li>application</li><li>global session&#xFF08;&#x4F9D;&#x8D56;&#x4E8E; Spring &#x7684; spring-webmvc-portlet&#xFF09;</li></ul><h3 id="&#x5355;&#x4F8B;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;"><a class="markdownIt-Anchor" href="#&#x5355;&#x4F8B;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;"></a> &#x5355;&#x4F8B;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;</h3><h4 id="&#x4F5C;&#x7528;-6"><a class="markdownIt-Anchor" href="#&#x4F5C;&#x7528;-6"></a> &#x4F5C;&#x7528;</h4><p>&#x63D0;&#x5347;&#x8FD0;&#x884C;&#x6548;&#x7387;&#xFF0C;&#x5B9E;&#x73B0;&#x6570;&#x636E;&#x5171;&#x4EAB;</p><h4 id="&#x61D2;&#x6C49;&#x5F0F;"><a class="markdownIt-Anchor" href="#&#x61D2;&#x6C49;&#x5F0F;"></a> &#x61D2;&#x6C49;&#x5F0F;</h4><p>&#x5BF9;&#x8C61;&#x53EA;&#x6709;&#x88AB;&#x8C03;&#x7528;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x624D;&#x4F1A;&#x88AB;&#x521B;&#x5EFA;&#xFF08;&#x56E0;&#x4E3A;&#x52A0;&#x4E86;&#x9501;&#xFF0C;&#x6240;&#x4EE5;&#x6548;&#x7387;&#x53EF;&#x80FD;&#x4F1A;&#x4F4E; &#xFF09;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SingleTon</span> </span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> SingleTon singleTon;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">SingleTon</span><span class="params">()</span> </span>{}</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> SingleTon <span class="title">getIntance</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (singleTon == <span class="keyword">null</span>) {</span><br><span class="line">            <span class="keyword">synchronized</span> (SingleTon<span class="class">.<span class="keyword">class</span>) </span>{</span><br><span class="line">                <span class="keyword">if</span> (singleTon == <span class="keyword">null</span>) {</span><br><span class="line">                    singleTon = <span class="keyword">new</span> SingleTon();</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        reture singleTon;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><h4 id="&#x997F;&#x6C49;&#x5F0F;"><a class="markdownIt-Anchor" href="#&#x997F;&#x6C49;&#x5F0F;"></a> &#x997F;&#x6C49;&#x5F0F;</h4><p>&#x65E0;&#x8BBA;&#x5BF9;&#x8C61;&#x662F;&#x5426;&#x88AB;&#x8C03;&#x7528;&#xFF0C;&#x90FD;&#x5148;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SingleTon</span> </span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> SingleTon singleTon = <span class="keyword">new</span> SingleTon();</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">SingleTon</span><span class="params">()</span> </span>{}</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> SingleTon <span class="title">getIntance</span><span class="params">()</span> </span>{</span><br><span class="line">        reture singleTon;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure><h3 id="&#x58F0;&#x660E;&#x5F0F;&#x4E8B;&#x52A1;"><a class="markdownIt-Anchor" href="#&#x58F0;&#x660E;&#x5F0F;&#x4E8B;&#x52A1;"></a> &#x58F0;&#x660E;&#x5F0F;&#x4E8B;&#x52A1;</h3><h4 id="&#x7F16;&#x7A0B;&#x5F0F;&#x4E8B;&#x52A1;"><a class="markdownIt-Anchor" href="#&#x7F16;&#x7A0B;&#x5F0F;&#x4E8B;&#x52A1;"></a> &#x7F16;&#x7A0B;&#x5F0F;&#x4E8B;&#x52A1;</h4><p>&#x5C31;&#x662F;&#x6307;&#x7A0B;&#x5E8F;&#x5458;&#x81EA;&#x5DF1;&#x5199;&#x4EE3;&#x7801;&#x6765;&#x63A7;&#x5236;&#x4E8B;&#x52A1;&#xFF0C;&#x5982; OpenSessionInView&#x3002;</p><h4 id="&#x58F0;&#x660E;&#x5F0F;&#x4E8B;&#x52A1;-2"><a class="markdownIt-Anchor" href="#&#x58F0;&#x660E;&#x5F0F;&#x4E8B;&#x52A1;-2"></a> &#x58F0;&#x660E;&#x5F0F;&#x4E8B;&#x52A1;</h4><p>&#x4E8B;&#x52A1;&#x63A7;&#x5236;&#x4EE3;&#x7801;&#x5DF2;&#x7ECF;&#x7531; Spring &#x5199;&#x597D;&#xFF0C;&#x7A0B;&#x5E8F;&#x5458;&#x53EA;&#x9700;&#x8981;&#x58F0;&#x660E;&#x51FA;&#x54EA;&#x4E9B;&#x65B9;&#x6CD5;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x4E8B;&#x52A1;&#x63A7;&#x5236;&#x548C;&#x5982;&#x4F55;&#x8FDB;&#x884C;&#x4E8B;&#x52A1;&#x63A7;&#x5236;&#x3002;&#x5B83;&#x4E3B;&#x8981;&#x9488;&#x5BF9;&#x4E8E; ServiceImpl &#x7C7B;&#x4E0B;&#x7684;&#x65B9;&#x6CD5;&#x3002;Spring &#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x5668;&#x662F;&#x57FA;&#x4E8E;&#x901A;&#x77E5;&#xFF08;advice&#xFF09;&#x7684;&#x3002;</p><h4 id="&#x914D;&#x7F6E;&#x4EE3;&#x7801;"><a class="markdownIt-Anchor" href="#&#x914D;&#x7F6E;&#x4EE3;&#x7801;"></a> &#x914D;&#x7F6E;&#x4EE3;&#x7801;</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:aop</span>=<span class="string">&quot;http://www.springframework.org/schema/aop&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/aop</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/aop/spring-aop.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/context/spring-context.xsd&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">default-autowire</span>=<span class="string">&quot;beName&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">&quot;classpath:db.properties,</span></span></span><br><span class="line"><span class="tag"><span class="string">                                            classpath:second.properties&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;${jdbc.driver}&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;${jdbc.url}&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;${jdbc.username}&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;${jdbc.password}&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;txManager&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.sf.jdbc.datasource.DataSourceTransactionManager&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dataSource&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">tx:advice</span> <span class="attr">id</span>=<span class="string">&quot;txAdvice&quot;</span> <span class="attr">transaction-manager</span>=<span class="string">&quot;txManager&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tx:attributes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">&quot;ins*&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">&quot;del*&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">&quot;upd*&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">&quot;*&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tx:attributes</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tx:advice</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:config</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">expression</span>=<span class="string">&quot;execution(* xyz.xijinian.service.impl.*.*(..))&quot;</span> <span class="attr">id</span>=<span class="string">&quot;mypoint&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:advisor</span> <span class="attr">advice-ref</span>=<span class="string">&quot;txAdvice&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;mypoint&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="&#x58F0;&#x660E;&#x5F0F;&#x4E8B;&#x52A1;&#x5C5E;&#x6027;&#x89E3;&#x91CA;"><a class="markdownIt-Anchor" href="#&#x58F0;&#x660E;&#x5F0F;&#x4E8B;&#x52A1;&#x5C5E;&#x6027;&#x89E3;&#x91CA;"></a> &#x58F0;&#x660E;&#x5F0F;&#x4E8B;&#x52A1;&#x5C5E;&#x6027;&#x89E3;&#x91CA;</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">tx:advice</span> <span class="attr">id</span>=<span class="string">&quot;txAdvice&quot;</span> <span class="attr">transaction-manager</span>=<span class="string">&quot;txManager&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tx:attributes</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">&quot;ins*&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">&quot;del*&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">&quot;upd*&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">&quot;*&quot;</span> <span class="attr">readonly</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tx:attributes</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tx:advice</span>&gt;</span></span><br></pre></td></tr></table></figure><ol><li><p>name&#xFF1A;&#x8868;&#x793A;&#x9700;&#x8981;&#x6709;&#x4E8B;&#x52A1;&#x63A7;&#x5236;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x5176;&#x4E2D;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x652F;&#x6301;&#x201C;*&#x201D;&#x901A;&#x914D;&#x7B26;</p></li><li><p>readonly&#xFF1A;&#x662F;&#x5426;&#x4E3A;&#x53EA;&#x8BFB;&#x4E8B;&#x52A1;&#xFF08;&#x533A;&#x522B;&#x63D0;&#x4EA4;&#x4E8B;&#x52A1;&#xFF09;&#xFF0C;&#x63D0;&#x4EA4;&#x4E8B;&#x52A1;&#x5728;&#x6570;&#x636E;&#x5E93;&#x7684;&#x5185;&#x90E8;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x6709;&#x4E00;&#x4E9B;&#x4E8B;&#x52A1;&#x9501;&#x4E4B;&#x7C7B;&#x7684;&#x673A;&#x5236;&#xFF0C;&#x901F;&#x5EA6;&#x6BD4;&#x8F83;&#x6162;&#x3002;&#x5982;&#x679C;&#x5C06;&#x4E8B;&#x52A1;&#x8BBE;&#x7F6E;&#x4E3A;&#x53EA;&#x8BFB;&#x4E8B;&#x52A1;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x5185;&#x90E8;&#x53EF;&#x80FD;&#x4F1A;&#x81EA;&#x52A8;&#x4F18;&#x5316;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x67E5;&#x8BE2;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;&#x53EA;&#x8BFB;&#x4E8B;&#x52A1;&#x3002;&#x5982;&#x679C;&#x4E0D;&#x5199;&#xFF0C;readonly=&#x201C;false&#x201D; &#x662F;&#x9ED8;&#x8BA4;&#x503C;&#xFF0C;&#x6BD4;&#x8F83;&#x9002;&#x5408;&#x589E;&#x5220;&#x6539;&#x7684;&#x64CD;&#x4F5C;&#x3002;</p></li><li><p>propagation&#xFF1A;&#x63A7;&#x5236;&#x4E8B;&#x52A1;&#x4F20;&#x64AD;&#x884C;&#x4E3A;&#x2014;&#x2014;&#x5F53;&#x4E00;&#x4E2A;&#x5177;&#x6709;&#x4E8B;&#x52A1;&#x63A7;&#x5236;&#x7684;&#x65B9;&#x6CD5;&#x88AB;&#x53E6;&#x4E00;&#x4E2A;&#x6709;&#x4E8B;&#x52A1;&#x63A7;&#x5236;&#x7684;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x540E;&#xFF0C;&#x9700;&#x8981;&#x5982;&#x4F55;&#x7BA1;&#x7406;&#x4E8B;&#x52A1;&#xFF08;&#x65B0;&#x5EFA;&#x4E8B;&#x52A1;&#xFF1F;&#x5728;&#x4E8B;&#x52A1;&#x4E2D;&#x6267;&#x884C;&#xFF1F;&#x4E8B;&#x52A1;&#x6302;&#x8D77;&#xFF1F;&#x62A5;&#x5F02; &#x5E38;&#xFF1F;&#xFF09;</p></li></ol><ul><li>REQUIRED&#xFF08;&#x9ED8;&#x8BA4;&#x503C;&#xFF09;&#xFF0C;&#x5728;&#x5F53;&#x524D;&#x7684;&#x4E8B;&#x52A1;&#x4E2D;&#x6267;&#x884C;&#xFF0C;&#x5982;&#x679C;&#x5F53;&#x524D;&#x6CA1;&#x6709;&#x4E8B;&#x52A1;&#xFF0C;&#x5C31;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#x3002;</li><li>SUPPORTS&#xFF0C;&#x5728;&#x5F53;&#x524D;&#x7684;&#x4E8B;&#x52A1;&#x4E2D;&#x6267;&#x884C;&#xFF0C;&#x5982;&#x679C;&#x5F53;&#x524D;&#x6CA1;&#x6709;&#x4E8B;&#x52A1;&#xFF0C;&#x5C31;&#x5728;&#x975E;&#x4E8B;&#x52A1;&#x72B6;&#x6001;&#x4E0B;&#x6267;&#x884C;&#x3002;</li><li>MANDATORY&#xFF0C;&#x5FC5;&#x987B;&#x5728;&#x4E8B;&#x52A1;&#x5185;&#x90E8;&#x6267;&#x884C;&#xFF0C;&#x5982;&#x679C;&#x5F53;&#x524D;&#x6709;&#x4E8B;&#x52A1;&#xFF0C;&#x5C31;&#x5728;&#x4E8B;&#x52A1;&#x4E2D;&#x6267;&#x884C;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x4E8B;&#x52A1;&#xFF0C;&#x62A5;&#x9519;&#x3002;</li><li>REQUIRES_NEW&#xFF0C;&#x5FC5;&#x987B;&#x5728;&#x4E8B;&#x52A1;&#x4E2D;&#x6267;&#x884C;&#xFF0C;&#x5982;&#x679C;&#x5F53;&#x524D;&#x6CA1;&#x6709;&#x4E8B;&#x52A1;&#xFF0C;&#x65B0;&#x5EFA;&#x4E8B;&#x52A1;&#xFF0C;&#x5982;&#x679C;&#x5F53;&#x524D;&#x6709;&#x4E8B;&#x52A1;&#xFF0C;&#x628A;&#x5F53;&#x524D;&#x4E8B;&#x52A1;&#x6302;&#x8D77;&#x3002;</li><li>NOT_SUPPORTED&#xFF0C;&#x5FC5;&#x987B;&#x5728;&#x975E;&#x4E8B;&#x52A1;&#x4E0B;&#x6267;&#x884C;&#xFF0C;&#x5982;&#x679C;&#x5F53;&#x524D;&#x6CA1;&#x6709;&#x4E8B;&#x52A1;&#xFF0C;&#x6B63;&#x5E38;&#x6267;&#x884C;&#xFF0C;&#x5982;&#x679C;&#x5F53;&#x524D;&#x6709;&#x4E8B;&#x52A1;&#xFF0C;&#x628A;&#x5F53;&#x524D;&#x4E8B;&#x52A1;&#x6302;&#x8D77;&#x3002;</li><li>NEVER&#xFF0C;&#x5FC5;&#x987B;&#x5728;&#x975E;&#x4E8B;&#x52A1;&#x72B6;&#x6001;&#x4E0B;&#x6267;&#x884C;&#xFF0C;&#x5982;&#x679C;&#x5F53;&#x524D;&#x6CA1;&#x6709;&#x4E8B;&#x52A1;&#xFF0C;&#x6B63;&#x5E38;&#x6267;&#x884C;&#xFF0C;&#x5982;&#x679C;&#x5F53;&#x524D;&#x6709;&#x4E8B;&#x52A1;&#xFF0C;&#x62A5;&#x9519;&#x3002;</li><li>NESTED&#xFF1A;&#x5FC5;&#x987B;&#x5728;&#x4E8B;&#x52A1;&#x72B6;&#x6001;&#x4E0B;&#x6267;&#x884C;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x4E8B;&#x52A1;&#xFF0C;&#x65B0;&#x5EFA;&#x4E8B;&#x52A1;&#xFF0C;&#x5982;&#x679C;&#x5F53;&#x524D;&#x6709;&#x4E8B;&#x52A1;&#xFF0C;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5D4C;&#x5957;&#x4E8B;&#x52A1;&#xFF08;&#x867D;&#x7136;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#x5305;&#x542B;&#x4E86;&#x53E6;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#xFF0C;&#x4F46;&#x662F;&#x5982;&#x679C;&#x6267;&#x884C;&#x5B8C;&#x51FA;&#x9519;&#x4E5F;&#x4F1A;&#x76F4;&#x63A5;&#x56DE;&#x6EDA;&#x5230;&#x4E8B;&#x52A1;&#x6700;&#x521D;&#x70B9;&#xFF09;&#x3002;</li></ul><ol start="4"><li><p>isolation&#xFF1A;&#x4E8B;&#x52A1;&#x9694;&#x79BB;&#x7EA7;&#x522B;&#x2014;&#x2014;&#x5728;&#x591A;&#x7EBF;&#x7A0B;&#x6216;&#x5E76;&#x53D1;&#x8BBF;&#x95EE;&#x4E0B;&#x5982;&#x4F55;&#x4FDD;&#x8BC1;&#x8BBF;&#x95EE;&#x5230;&#x7684;&#x6570;&#x636E;&#x5177;&#x6709;&#x5B8C;&#x6574;&#x6027;&#x3002;</p><ul><li><p>&#x4E0B;&#x9762;&#x5F3A;&#x8C03;&#x51E0;&#x4E2A;&#x6982;&#x5FF5;</p><ul><li><p><strong>&#x810F;&#x8BFB;</strong>&#xFF1A;&#x4E8B;&#x52A1; B &#x4FEE;&#x6539;&#x6570;&#x636E;&#x5E93;&#x2192;&#x4E8B;&#x52A1; A &#x8BFB;&#x53D6;&#x4E8B;&#x52A1; B &#x4FEE;&#x6539;&#x8FC7;&#x7684;&#x503C;&#x2192;&#x4E8B;&#x52A1; B &#x63D0;&#x4EA4;&#x5931;&#x8D25;&#x56DE;&#x6EDA;&#x2192;&#x4E8B;&#x52A1; A &#x8BFB;&#x53D6;&#x5230;&#x4E86;&#x810F;&#x6570;&#x636E;&#x3002;</p><p>&#x89E3;&#x51B3;&#x529E;&#x6CD5;&#xFF1A;<strong>&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#x4FEE;&#x6539;&#x6570;&#x636E;&#x7684;&#x65F6;&#x5019;&#x53E6;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#x4E0D;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x8BFB;&#x53D6;</strong>&#x3002;</p></li><li><p><strong>&#x4E0D;&#x53EF;&#x91CD;&#x590D;&#x8BFB;</strong>&#xFF1A;&#x4E8B;&#x52A1; A &#x8BFB;&#x53D6;&#x6570;&#x636E;&#x2192;&#x4E8B;&#x52A1; B &#x4FEE;&#x6539;&#x6570;&#x636E;&#x5E76;&#x63D0;&#x4EA4;&#x2192;&#x4E8B;&#x52A1; A &#x518D;&#x8BFB;&#x6570;&#x636E;&#xFF0C;&#x53D1;&#x73B0;&#x4E24;&#x6B21;&#x8BFB;&#x53D6;&#x7684;&#x6570;&#x636E;&#x4E0D;&#x4E00;&#x6837;&#x3002;</p><p>&#x89E3;&#x51B3;&#x529E;&#x6CD5;&#xFF1A;<strong>&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#x8BFB;&#x53D6;&#x6570;&#x636E;&#x7684;&#x65F6;&#x5019;&#x53E6;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#x4E0D;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x4FEE;&#x6539;</strong>&#x3002;</p></li><li><p><strong>&#x5E7B;&#x8BFB;</strong>&#xFF1A;&#x4E8B;&#x52A1; A &#x8BFB;&#x53D6;&#x6570;&#x636E;&#x2192;&#x4E8B;&#x52A1; B &#x63D2;&#x5165;&#xFF08;&#x6216;&#x5220;&#x9664;&#xFF09;&#x6570;&#x636E;&#x5E76;&#x63D0;&#x4EA4;&#x2192;&#x4E8B;&#x52A1; A &#x518D;&#x8BFB;&#x6570;&#x636E;&#xFF0C;&#x53D1;&#x73B0;&#x4E4B;&#x524D;&#x8BFB;&#x5C11;&#xFF08;&#x591A;&#xFF09;&#x4E86;&#x4E00;&#x884C;&#x3002;</p><p>&#x89E3;&#x51B3;&#x529E;&#x6CD5;&#xFF1A;<strong>&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#x8BFB;&#x53D6;&#x548C;&#x4FEE;&#x6539;&#x6570;&#x636E;&#x7684;&#x65F6;&#x5019;&#x53E6;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#x4E0D;&#x53EF;&#x4EE5;&#x63D2;&#x5165;&#x548C;&#x5220;&#x9664;&#x6570;&#x636E;</strong>&#x3002;</p></li></ul></li><li><p>isolation &#x7684;&#x5C5E;&#x6027;</p><ul><li>DEFAULT&#xFF08;&#x9ED8;&#x8BA4;&#xFF09;&#xFF1A;&#x7531;&#x5E95;&#x5C42;&#x6570;&#x636E;&#x5E93;&#x81EA;&#x52A8;&#x5224;&#x65AD;&#x5E94;&#x8BE5;&#x4F7F;&#x7528;&#x4EC0;&#x4E48;&#x9694;&#x79BB;&#x7EA7;&#x522B;&#x3002;</li><li>READ_UNCOMMITTED&#xFF1A;&#x53EF;&#x4EE5;&#x8BFB;&#x53D6;&#x672A;&#x63D0;&#x4EA4;&#x6570;&#x636E;&#xFF0C;&#x53EF;&#x80FD;&#x51FA;&#x73B0;&#x810F;&#x8BFB;&#x3001;&#x4E0D;&#x53EF;&#x91CD;&#x590D;&#x8BFB;&#x3001;&#x5E7B;&#x8BFB;&#xFF0C;&#x5F53;&#x7136;&#x8FD9;&#x6548;&#x7387;&#x6700;&#x9AD8;&#x3002;</li><li>READ_COMMITTED&#xFF1A;&#x53EA;&#x80FD;&#x8BFB;&#x53D6;&#x5176;&#x4ED6;&#x4E8B;&#x52A1;&#x5DF2;&#x63D0;&#x4EA4;&#x6570;&#x636E;&#xFF0C;&#x53EF;&#x4EE5;&#x9632;&#x6B62;&#x810F;&#x8BFB;&#xFF0C;&#x53EF;&#x80FD;&#x51FA;&#x73B0;&#x4E0D;&#x53EF;&#x91CD;&#x590D;&#x8BFB;&#x548C;&#x5E7B;&#x8BFB;&#x3002;</li><li>REPEATABLE_READ&#xFF1A;&#x8BFB;&#x53D6;&#x7684;&#x6570;&#x636E;&#x88AB;&#x6DFB;&#x52A0;&#x9501;&#xFF0C;&#x9632;&#x6B62;&#x5176;&#x4ED6;&#x4E8B;&#x52A1;&#x4FEE;&#x6539;&#x6B64;&#x6570;&#x636E;&#xFF0C;&#x53EF;&#x4EE5;&#x9632;&#x6B62;&#x810F;&#x8BFB;&#x548C;&#x4E0D;&#x53EF;&#x91CD;&#x590D;&#x8BFB;&#xFF0C;&#x53EF;&#x80FD;&#x51FA;&#x73B0;&#x5E7B;&#x8BFB;&#x3002;</li><li>SERIALIZABLE&#xFF1A;&#x6392;&#x961F;&#x64CD;&#x4F5C;&#xFF0C;&#x5BF9;&#x6574;&#x4E2A;&#x8868;&#x6DFB;&#x52A0;&#x9501;&#x3002;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#x5728;&#x64CD;&#x4F5C;&#x6570;&#x636E;&#x65F6;&#xFF0C;&#x53E6;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#x7B49;&#x5F85;&#x4E8B;&#x52A1;&#x64CD;&#x4F5C;&#x5B8C;&#x6210;&#x540E;&#x624D;&#x80FD;&#x64CD;&#x4F5C;&#x8FD9;&#x4E2A;&#x8868;&#x3002;&#x6700;&#x5B89;&#x5168;&#x7684;&#xFF0C;&#x6548;&#x7387;&#x4E5F;&#x662F;&#x6700;&#x4F4E;&#x3002;</li></ul></li></ul></li><li><p>rollback-for&#xFF1A;&#x5F02;&#x5E38;&#x7C7B;&#x578B;&#x5168;&#x9650;&#x5B9A;&#x8DEF;&#x5F84;&#x2014;&#x2014;&#x5F53;&#x51FA;&#x73B0;&#x4EC0;&#x4E48;&#x5F02;&#x5E38;&#x65F6;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x56DE;&#x6EDA;&#xFF1F;</p><ul><li>&#x5EFA;&#x8BAE;&#x7ED9;&#x5B9A;&#x8BE5;&#x5C5E;&#x6027;&#x503C;</li><li>&#x624B;&#x52A8;&#x629B;&#x5F02;&#x5E38;&#x4E00;&#x5B9A;&#x8981;&#x7ED9;&#x8BE5;&#x5C5E;&#x6027;&#x503C;.</li></ul></li><li><p>no-rollback-for&#xFF1A;&#x5F53;&#x51FA;&#x73B0;&#x4EC0;&#x4E48;&#x5F02;&#x5E38;&#x65F6;&#x4E0D;&#x6EDA;&#x56DE;&#x4E8B;&#x52A1;</p></li></ol><h3 id="&#x5E38;&#x7528;&#x6CE8;&#x89E3;"><a class="markdownIt-Anchor" href="#&#x5E38;&#x7528;&#x6CE8;&#x89E3;"></a> &#x5E38;&#x7528;&#x6CE8;&#x89E3;</h3><ul><li><p>@Component &#x521B;&#x5EFA;&#x7C7B;&#x5BF9;&#x8C61;&#xFF0C;&#x76F8;&#x5F53;&#x4E8E;&#x914D;&#x7F6E;<code>&lt;bean&gt;</code></p></li><li><p>@Service &#x4E0E; @Component &#x529F;&#x80FD;&#x76F8;&#x540C;&#xFF0C;&#x5199;&#x5728; ServiceImpl &#x7C7B;&#x4E0A;</p></li><li><p>@Repository &#x4E0E; @Component &#x529F;&#x80FD;&#x76F8;&#x540C;&#xFF0C;&#x5199;&#x5728;&#x6570;&#x636E;&#x8BBF;&#x95EE;&#x5C42;&#x7C7B;&#x4E0A;</p></li><li><p>@Controller &#x4E0E; @Component &#x529F;&#x80FD;&#x76F8;&#x540C;&#xFF0C;&#x5199;&#x5728;&#x63A7;&#x5236;&#x5668;&#x7C7B;&#x4E0A;</p></li><li><p>@Resource&#xFF08;&#x4E0D;&#x9700;&#x8981;&#x5199;&#x5BF9;&#x8C61;&#x7684; get/set&#xFF09;</p><ul><li>JDK &#x4E2D;&#x7684;&#x6CE8;&#x89E3;</li><li>&#x9ED8;&#x8BA4;&#x6309;&#x7167; byName &#x6CE8;&#x5165;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x540D;&#x79F0;&#x5BF9;&#x8C61;&#xFF0C;&#x6309;&#x7167; byType &#x6CE8;&#x5165;&#xFF0C;&#x5EFA;&#x8BAE;&#x628A;&#x5BF9;&#x8C61;&#x540D;&#x79F0;&#x548C; spring &#x5BB9;&#x5668;&#x4E2D;&#x5BF9;&#x8C61;&#x540D;&#x76F8;&#x540C;</li></ul></li><li><p>@Autowired&#xFF08;&#x4E0D;&#x9700;&#x8981;&#x5199;&#x5BF9;&#x8C61;&#x7684; get/set&#xFF09;</p><ul><li>Spring &#x4E2D;&#x7684;&#x6CE8;&#x89E3;</li><li>&#x9ED8;&#x8BA4;&#x6309;&#x7167; byType &#x6CE8;&#x5165;</li></ul></li><li><p>@Value() &#x83B7;&#x53D6; properties &#x6587;&#x4EF6;&#x4E2D;&#x5185;&#x5BB9;</p></li><li><p>@Pointcut() &#x5B9A;&#x4E49;&#x5207;&#x70B9;</p></li><li><p>@Aspect() &#x5B9A;&#x4E49;&#x5207;&#x9762;&#x7C7B;</p></li><li><p>@Before() &#x524D;&#x7F6E;&#x901A;&#x77E5;</p></li><li><p>@After &#x540E;&#x7F6E;&#x901A;&#x77E5;</p></li><li><p>@AfterReturning &#x540E;&#x7F6E;&#x901A;&#x77E5;&#xFF08;&#x5FC5;&#x987B;&#x5207;&#x70B9;&#x6B63;&#x786E;&#x6267;&#x884C;&#xFF09;</p></li><li><p>@AfterThrowing &#x5F02;&#x5E38;&#x901A;&#x77E5;</p></li><li><p>@Arround &#x73AF;&#x7ED5;&#x901A;&#x77E5;</p></li></ul><h3 id="ajax"><a class="markdownIt-Anchor" href="#ajax"></a> AJAX</h3><p>&#x5199;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#xFF0C;&#x4F7F;&#x7528; Jackon &#x548C; JQuery</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">&quot;java&quot;</span> contentType=<span class="string">&quot;text/html; charset=UTF-8&quot;</span></span><br><span class="line">    pageEncoding=<span class="string">&quot;UTF-8&quot;</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html PUBLIC <span class="string">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span> <span class="string">&quot;http://www.w3.org/TR/html4/loose.dtd&quot;</span>&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=<span class="string">&quot;Content-Type&quot;</span> content=<span class="string">&quot;text/html; charset=UTF-8&quot;</span>&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;js/jquery-1.7.2.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">$(function(){</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    url: &#x8BF7;&#x6C42;&#x670D;&#x52A1;&#x5668;&#x5730;&#x5740;</span></span><br><span class="line"><span class="comment">    data:&#x8BF7;&#x6C42;&#x53C2;&#x6570;</span></span><br><span class="line"><span class="comment">    dataType:&#x670D;&#x52A1;&#x5668;&#x8FD4;&#x56DE;&#x6570;&#x636E;&#x7C7B;&#x578B;</span></span><br><span class="line"><span class="comment">    error&#x8BF7;&#x6C42;&#x51FA;&#x9519;&#x6267;&#x884C;&#x7684;&#x529F;&#x80FD;</span></span><br><span class="line"><span class="comment">    success&#x8BF7;&#x6C42;&#x6210;&#x529F;&#x6267;&#x884C;&#x7684;&#x529F;&#x80FD;,function(data) data&#x670D;&#x52A1;&#x5668;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;.</span></span><br><span class="line"><span class="comment">    type:&#x8BF7;&#x6C42;&#x65B9;&#x5F0F;</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    $(<span class="string">&quot;a&quot;</span>).click(function(){</span><br><span class="line">        <span class="comment">/* $.ajax({</span></span><br><span class="line"><span class="comment">            url:&apos;demo&apos;,</span></span><br><span class="line"><span class="comment">            data:{&quot;name&quot;:&quot;&#x5F20;&#x4E09;&quot;},</span></span><br><span class="line"><span class="comment">            dataType:&apos;html&apos;,</span></span><br><span class="line"><span class="comment">            error:function(){</span></span><br><span class="line"><span class="comment">                alert(&quot;&#x8BF7;&#x6C42;&#x51FA;&#x9519;.&quot;)</span></span><br><span class="line"><span class="comment">            },</span></span><br><span class="line"><span class="comment">            success:function(data){</span></span><br><span class="line"><span class="comment">                alert(&quot;&#x8BF7;&#x6C42;&#x6210;&#x529F;&quot;+data)</span></span><br><span class="line"><span class="comment">            },</span></span><br><span class="line"><span class="comment">            type:&apos;POST&apos;</span></span><br><span class="line"><span class="comment">        }); */</span></span><br><span class="line">        $.post(<span class="string">&quot;demo&quot;</span>,{<span class="string">&quot;name&quot;</span>:<span class="string">&quot;&#x5F20;&#x4E09;&quot;</span>},function(data){</span><br><span class="line">            <span class="keyword">var</span> result=<span class="string">&quot;&quot;</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">var</span> i =<span class="number">0</span> ;i&lt;data.length;i++){</span><br><span class="line">                result+=<span class="string">&quot;&lt;tr&gt;&quot;</span>;</span><br><span class="line">                result+=<span class="string">&quot;&lt;td&gt;&quot;</span>+data[i].id+<span class="string">&quot;&lt;/td&gt;&quot;</span></span><br><span class="line">                result+=<span class="string">&quot;&lt;td&gt;&quot;</span>+data[i].username+<span class="string">&quot;&lt;/td&gt;&quot;</span></span><br><span class="line">                result+=<span class="string">&quot;&lt;td&gt;&quot;</span>+data[i].password+<span class="string">&quot;&lt;/td&gt;&quot;</span></span><br><span class="line">                result+=<span class="string">&quot;&lt;/tr&gt;&quot;</span>;</span><br><span class="line">            }</span><br><span class="line">            <span class="comment">//&#x76F8;&#x5F53;innerHTML&#x5148;&#x6E05;&#x7A7A;&#x540E;&#x6DFB;&#x52A0;</span></span><br><span class="line">            $(<span class="string">&quot;#mytbody&quot;</span>).html(result);</span><br><span class="line">        })</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    })</span><br><span class="line">});</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;a href=&quot;demo&quot;&gt;&#x8DF3;&#x8F6C;&lt;/a&gt;</span><br><span class="line">&lt;table border=<span class="string">&quot;1&quot;</span>&gt;</span><br><span class="line">    &lt;tr&gt;</span><br><span class="line">        &lt;td&gt;&#x7F16;&#x53F7;&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;&#x59D3;&#x540D;&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;&#x5BC6;&#x7801;&lt;/td&gt;</span><br><span class="line">    &lt;/tr&gt;</span><br><span class="line">    &lt;tbody id=&quot;mytbody&quot;&gt;&lt;/tbody&gt;</span><br><span class="line">&lt;/table&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet</span>(<span class="string">&quot;/demo&quot;</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DemoServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>{</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> </span></span><br><span class="line"><span class="function">            <span class="keyword">throws</span> ServletException, IOException </span>{</span><br><span class="line">        System.out.println(<span class="string">&quot;&#x6267;&#x884C;&#x63A7;&#x5236;&#x5668;&quot;</span>);</span><br><span class="line">        String name = req.getParameter(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">        Users users = <span class="keyword">new</span> Users();</span><br><span class="line">        users.setId(<span class="number">1</span>);</span><br><span class="line">        users.setPassword(<span class="string">&quot;123&quot;</span>);</span><br><span class="line">        users.setUsername(<span class="string">&quot;&#x5F20;&#x4E09;&quot;</span>);</span><br><span class="line">        Users users1 = <span class="keyword">new</span> Users();</span><br><span class="line">        users1.setId(<span class="number">2</span>);</span><br><span class="line">        users1.setPassword(<span class="string">&quot;22&quot;</span>);</span><br><span class="line">        users1.setUsername(<span class="string">&quot;&#x674E;&#x56DB;&quot;</span>);</span><br><span class="line">        </span><br><span class="line">        List&lt;Users&gt; list = <span class="keyword">new</span> ArrayList&lt;Users&gt;();</span><br><span class="line">        list.add(users1);</span><br><span class="line">        list.add(users);</span><br><span class="line">        </span><br><span class="line">        ObjectMapper mapper = <span class="keyword">new</span> ObjectMapper();</span><br><span class="line">        String result = mapper.writeValueAsString(list);</span><br><span class="line">        </span><br><span class="line">        resp.setContentType(<span class="string">&quot;application/json;charset=utf-8&quot;</span>);</span><br><span class="line">        PrintWriter out = resp.getWriter();</span><br><span class="line">        out.println(result);</span><br><span class="line">        out.flush();</span><br><span class="line">        out.close();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure></div><footer class="post-footer"><div class="post-tags"><a href="/tags/Java-EE/" rel="tag"># Java EE</a></div><div class="post-nav"><div class="post-nav-item"><a href="/2017/11/30/XML-%E9%85%8D%E7%BD%AE/" rel="prev" title="XML 配置"><i class="fa fa-chevron-left"></i> XML 配置</a></div><div class="post-nav-item"><a href="/2017/12/28/Spring-MVC-%E9%80%9F%E8%A7%88/" rel="next" title="Spring MVC 速览">Spring MVC 速览 <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="comments"><div id="disqus_thread"><noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript></div></div><script>window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#spring-&#x6846;&#x67B6;&#x7B80;&#x4ECB;"><span class="nav-number">1.</span> <span class="nav-text">Spring &amp;#x6846;&amp;#x67B6;&amp;#x7B80;&amp;#x4ECB;</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#&#x4E3B;&#x8981;&#x53D1;&#x660E;&#x8005;"><span class="nav-number">1.1.</span> <span class="nav-text">&amp;#x4E3B;&amp;#x8981;&amp;#x53D1;&amp;#x660E;&amp;#x8005;</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#spring-&#x6846;&#x67B6;&#x6838;&#x5FC3;&#x529F;&#x80FD;"><span class="nav-number">1.2.</span> <span class="nav-text">Spring &amp;#x6846;&amp;#x67B6;&amp;#x6838;&amp;#x5FC3;&amp;#x529F;&amp;#x80FD;</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#spring-&#x6846;&#x67B6;&#x7684;&#x8FD0;&#x884C;&#x65F6;&#x73AF;&#x5883;"><span class="nav-number">1.3.</span> <span class="nav-text">Spring &amp;#x6846;&amp;#x67B6;&amp;#x7684;&amp;#x8FD0;&amp;#x884C;&amp;#x65F6;&amp;#x73AF;&amp;#x5883;</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ioc"><span class="nav-number">2.</span> <span class="nav-text">Ioc</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#&#x4F5C;&#x7528;"><span class="nav-number">2.1.</span> <span class="nav-text">&amp;#x4F5C;&amp;#x7528;</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#spring-&#x6846;&#x67B6;&#x73AF;&#x5883;&#x642D;&#x5EFA;"><span class="nav-number">2.2.</span> <span class="nav-text">Spring &amp;#x6846;&amp;#x67B6;&amp;#x73AF;&amp;#x5883;&amp;#x642D;&amp;#x5EFA;</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#spring-&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#x7684;&#x4E09;&#x79CD;&#x65B9;&#x5F0F;"><span class="nav-number">2.3.</span> <span class="nav-text">Spring &amp;#x521B;&amp;#x5EFA;&amp;#x5BF9;&amp;#x8C61;&amp;#x7684;&amp;#x4E09;&amp;#x79CD;&amp;#x65B9;&amp;#x5F0F;</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#&#x7ED9;-bean-&#x7684;&#x5C5E;&#x6027;&#x8D4B;&#x503C;"><span class="nav-number">2.4.</span> <span class="nav-text">&amp;#x7ED9; Bean &amp;#x7684;&amp;#x5C5E;&amp;#x6027;&amp;#x8D4B;&amp;#x503C;</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#di"><span class="nav-number">2.5.</span> <span class="nav-text">DI</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#&#x4F7F;&#x7528;-spring-&#x7B80;&#x5316;-mybatis"><span class="nav-number">3.</span> <span class="nav-text">&amp;#x4F7F;&amp;#x7528; Spring &amp;#x7B80;&amp;#x5316; MyBatis</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#&#x5BFC;&#x5165;&#x6240;&#x9700;&#x7684;-jar-&#x5305;"><span class="nav-number">3.1.</span> <span class="nav-text">&amp;#x5BFC;&amp;#x5165;&amp;#x6240;&amp;#x9700;&amp;#x7684; JAR &amp;#x5305;</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#&#x914D;&#x7F6E;-webxml"><span class="nav-number">3.2.</span> <span class="nav-text">&amp;#x914D;&amp;#x7F6E; web.xml</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#&#x914D;&#x7F6E;-spring-&#x914D;&#x7F6E;&#x6587;&#x4EF6;"><span class="nav-number">3.3.</span> <span class="nav-text">&amp;#x914D;&amp;#x7F6E; Spring &amp;#x914D;&amp;#x7F6E;&amp;#x6587;&amp;#x4EF6;</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#&#x7F16;&#x5199;&#x6B63;&#x5E38;&#x7684;-pojo"><span class="nav-number">3.4.</span> <span class="nav-text">&amp;#x7F16;&amp;#x5199;&amp;#x6B63;&amp;#x5E38;&amp;#x7684; POJO</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#&#x7F16;&#x5199;-mapper"><span class="nav-number">3.5.</span> <span class="nav-text">&amp;#x7F16;&amp;#x5199; Mapper</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#&#x7F16;&#x5199;-service-&#x63A5;&#x53E3;&#x548C;&#x5176;&#x5B9E;&#x73B0;&#x7C7B;"><span class="nav-number">3.6.</span> <span class="nav-text">&amp;#x7F16;&amp;#x5199; Service &amp;#x63A5;&amp;#x53E3;&amp;#x548C;&amp;#x5176;&amp;#x5B9E;&amp;#x73B0;&amp;#x7C7B;</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#&#x5199;-servlet"><span class="nav-number">3.7.</span> <span class="nav-text">&amp;#x5199; Servlet</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#&#x6700;&#x540E;&#x5199;-jsp"><span class="nav-number">3.8.</span> <span class="nav-text">&amp;#x6700;&amp;#x540E;&amp;#x5199; JSP</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#aop"><span class="nav-number">4.</span> <span class="nav-text">AOP</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#&#x4F5C;&#x7528;-2"><span class="nav-number">4.1.</span> <span class="nav-text">&amp;#x4F5C;&amp;#x7528;</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#&#x5E38;&#x7528;&#x6982;&#x5FF5;"><span class="nav-number">4.2.</span> <span class="nav-text">&amp;#x5E38;&amp;#x7528;&amp;#x6982;&amp;#x5FF5;</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#&#x5B9E;&#x73B0;-aop-&#x7684;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;"><span class="nav-number">4.3.</span> <span class="nav-text">&amp;#x5B9E;&amp;#x73B0; AOP &amp;#x7684;&amp;#x4E24;&amp;#x79CD;&amp;#x65B9;&amp;#x5F0F;</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#&#x914D;&#x7F6E;&#x5F02;&#x5E38;&#x901A;&#x77E5;aspectj"><span class="nav-number">4.4.</span> <span class="nav-text">&amp;#x914D;&amp;#x7F6E;&amp;#x5F02;&amp;#x5E38;&amp;#x901A;&amp;#x77E5;&amp;#xFF08;AspectJ&amp;#xFF09;</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#&#x914D;&#x7F6E;&#x5F02;&#x5E38;&#x901A;&#x77E5;schema-based"><span class="nav-number">4.5.</span> <span class="nav-text">&amp;#x914D;&amp;#x7F6E;&amp;#x5F02;&amp;#x5E38;&amp;#x901A;&amp;#x77E5;&amp;#xFF08;Schema-based&amp;#xFF09;</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#&#x73AF;&#x7ED5;&#x901A;&#x77E5;schema-based"><span class="nav-number">4.6.</span> <span class="nav-text">&amp;#x73AF;&amp;#x7ED5;&amp;#x901A;&amp;#x77E5;&amp;#xFF08;Schema-based&amp;#xFF09;</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#&#x5B9A;&#x4E49;"><span class="nav-number">4.6.1.</span> <span class="nav-text">&amp;#x5B9A;&amp;#x4E49;</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#&#x5B9E;&#x73B0;&#x6B65;&#x9AA4;"><span class="nav-number">4.6.2.</span> <span class="nav-text">&amp;#x5B9E;&amp;#x73B0;&amp;#x6B65;&amp;#x9AA4;</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#aspectj-&#x5B9E;&#x73B0;&#x5404;&#x79CD;&#x589E;&#x5F3A;&#x901A;&#x77E5;"><span class="nav-number">4.7.</span> <span class="nav-text">AspectJ &amp;#x5B9E;&amp;#x73B0;&amp;#x5404;&amp;#x79CD;&amp;#x589E;&amp;#x5F3A;&amp;#x901A;&amp;#x77E5;</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#&#x4F7F;&#x7528;&#x6CE8;&#x89E3;&#x57FA;&#x4E8E;-aspectj"><span class="nav-number">4.8.</span> <span class="nav-text">&amp;#x4F7F;&amp;#x7528;&amp;#x6CE8;&amp;#x89E3;&amp;#xFF08;&amp;#x57FA;&amp;#x4E8E; AspectJ&amp;#xFF09;</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#&#x4EE3;&#x7406;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;"><span class="nav-number">4.9.</span> <span class="nav-text">&amp;#x4EE3;&amp;#x7406;&amp;#x8BBE;&amp;#x8BA1;&amp;#x6A21;&amp;#x5F0F;</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#&#x81EA;&#x52A8;&#x6CE8;&#x5165;"><span class="nav-number">5.</span> <span class="nav-text">&amp;#x81EA;&amp;#x52A8;&amp;#x6CE8;&amp;#x5165;</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#&#x4F5C;&#x7528;-3"><span class="nav-number">5.1.</span> <span class="nav-text">&amp;#x4F5C;&amp;#x7528;</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#&#x5F62;&#x5F0F;"><span class="nav-number">5.2.</span> <span class="nav-text">&amp;#x5F62;&amp;#x5F0F;</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#&#x4F7F;&#x7528;&#x5C5E;&#x6027;&#x6587;&#x4EF6;"><span class="nav-number">6.</span> <span class="nav-text">&amp;#x4F7F;&amp;#x7528;&amp;#x5C5E;&amp;#x6027;&amp;#x6587;&amp;#x4EF6;</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#&#x4F5C;&#x7528;-4"><span class="nav-number">6.1.</span> <span class="nav-text">&amp;#x4F5C;&amp;#x7528;</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#&#x6B65;&#x9AA4;"><span class="nav-number">6.2.</span> <span class="nav-text">&amp;#x6B65;&amp;#x9AA4;</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#&#x6CE8;&#x610F;"><span class="nav-number">6.3.</span> <span class="nav-text">&amp;#x6CE8;&amp;#x610F;</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#&#x4E00;&#x4E2A;&#x5C0F;-tip"><span class="nav-number">6.4.</span> <span class="nav-text">&amp;#x4E00;&amp;#x4E2A;&amp;#x5C0F; tip</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#scope-&#x5C5E;&#x6027;"><span class="nav-number">7.</span> <span class="nav-text">scope &amp;#x5C5E;&amp;#x6027;</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#&#x4F5C;&#x7528;-5"><span class="nav-number">7.1.</span> <span class="nav-text">&amp;#x4F5C;&amp;#x7528;</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#&#x5199;&#x6CD5;"><span class="nav-number">7.2.</span> <span class="nav-text">&amp;#x5199;&amp;#x6CD5;</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#&#x53D6;&#x503C;"><span class="nav-number">7.3.</span> <span class="nav-text">&amp;#x53D6;&amp;#x503C;</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#&#x5355;&#x4F8B;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;"><span class="nav-number">8.</span> <span class="nav-text">&amp;#x5355;&amp;#x4F8B;&amp;#x8BBE;&amp;#x8BA1;&amp;#x6A21;&amp;#x5F0F;</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#&#x4F5C;&#x7528;-6"><span class="nav-number">8.1.</span> <span class="nav-text">&amp;#x4F5C;&amp;#x7528;</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#&#x61D2;&#x6C49;&#x5F0F;"><span class="nav-number">8.2.</span> <span class="nav-text">&amp;#x61D2;&amp;#x6C49;&amp;#x5F0F;</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#&#x997F;&#x6C49;&#x5F0F;"><span class="nav-number">8.3.</span> <span class="nav-text">&amp;#x997F;&amp;#x6C49;&amp;#x5F0F;</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#&#x58F0;&#x660E;&#x5F0F;&#x4E8B;&#x52A1;"><span class="nav-number">9.</span> <span class="nav-text">&amp;#x58F0;&amp;#x660E;&amp;#x5F0F;&amp;#x4E8B;&amp;#x52A1;</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#&#x7F16;&#x7A0B;&#x5F0F;&#x4E8B;&#x52A1;"><span class="nav-number">9.1.</span> <span class="nav-text">&amp;#x7F16;&amp;#x7A0B;&amp;#x5F0F;&amp;#x4E8B;&amp;#x52A1;</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#&#x58F0;&#x660E;&#x5F0F;&#x4E8B;&#x52A1;-2"><span class="nav-number">9.2.</span> <span class="nav-text">&amp;#x58F0;&amp;#x660E;&amp;#x5F0F;&amp;#x4E8B;&amp;#x52A1;</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#&#x914D;&#x7F6E;&#x4EE3;&#x7801;"><span class="nav-number">9.3.</span> <span class="nav-text">&amp;#x914D;&amp;#x7F6E;&amp;#x4EE3;&amp;#x7801;</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#&#x58F0;&#x660E;&#x5F0F;&#x4E8B;&#x52A1;&#x5C5E;&#x6027;&#x89E3;&#x91CA;"><span class="nav-number">9.4.</span> <span class="nav-text">&amp;#x58F0;&amp;#x660E;&amp;#x5F0F;&amp;#x4E8B;&amp;#x52A1;&amp;#x5C5E;&amp;#x6027;&amp;#x89E3;&amp;#x91CA;</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#&#x5E38;&#x7528;&#x6CE8;&#x89E3;"><span class="nav-number">10.</span> <span class="nav-text">&amp;#x5E38;&amp;#x7528;&amp;#x6CE8;&amp;#x89E3;</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ajax"><span class="nav-number">11.</span> <span class="nav-text">AJAX</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="xijinian" src="/images/avatar.jpg"><p class="site-author-name" itemprop="name">xijinian</p><div class="site-description" itemprop="description">放轻松，就像在漫游地球～</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">107</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">21</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://twitter.com/xijinian" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;xijinian" rel="noopener" target="_blank"><i class="fa fa-fw fa-twitter"></i></a> </span><span class="links-of-author-item"><a href="http://weibo.com/xijinian" title="Weibo → http:&#x2F;&#x2F;weibo.com&#x2F;xijinian" rel="noopener" target="_blank"><i class="fa fa-fw fa-weibo"></i></a></span></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; 2015 – <span itemprop="copyrightYear">2020</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">xijinian</span></div></div></footer></div><script src="//cdn.jsdelivr.net/npm/animejs@3.1.0/lib/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js"></script><script src="//cdn.jsdelivr.net/npm/velocity-animate@1/velocity.min.js"></script><script src="//cdn.jsdelivr.net/npm/velocity-animate@1/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/local-search.js"></script><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/katex@0/dist/katex.min.css"><script src="//cdn.jsdelivr.net/npm/katex@0/dist/contrib/copy-tex.min.js"></script><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/katex@0/dist/contrib/copy-tex.min.css"><script>function loadCount(){var d=document,n=d.createElement("script");n.src="https://xijinian.disqus.com/count.js",n.id="dsq-count-scr",(d.head||d.body).appendChild(n)}window.addEventListener("load",loadCount,!1)</script><script>var disqus_config = function() {
    this.page.url = "https://www.xijinian.top/2017/12/27/Spring-%E9%80%9F%E8%A7%88/";
    this.page.identifier = "2017/12/27/Spring-速览/";
    this.page.title = "Spring 速览";
    };
  NexT.utils.loadComments(document.querySelector('#disqus_thread'), () => {
    if (window.DISQUS) {
      DISQUS.reset({
        reload: true,
        config: disqus_config
      });
    } else {
      var d = document, s = d.createElement('script');
      s.src = 'https://xijinian.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);
    }
  });</script></body></html>